!function(e){function t(t){for(var r,o,a=t[0],i=t[1],u=t[2],c=0,s=[];c<a.length;c++)o=a[c],C[o]&&s.push(C[o][0]),C[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(R&&R(t);s.length;)s.shift()();return P.push.apply(P,u||[]),n()}function n(){for(var e,t=0;t<P.length;t++){for(var n=P[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==C[a]&&(r=!1)}r&&(P.splice(t--,1),e=I(I.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!w[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--v&&0===S&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="0a0dbba8aaeb9694a3b5",u=1e4,c={},s=[],l=[];function f(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:k,apply:_,status:function(e){if(!e)return m;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:c[e]};return o=void 0,t}var p=[],m="idle";function b(e){m=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var y,d,h,v=0,S=0,O={},g={},w={};function E(e){return+e+""===e?+e:e}function k(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return a=e,b("check"),(t=u,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=I.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return b("idle"),null;g={},O={},w=e.c,h=e.h,b("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});for(var n in d={},C)T(n);return"prepare"===m&&0===S&&0===v&&A(),t});var t}function T(e){var t;w[e]?(g[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=I.p+"hot/hot-update.js",document.head.appendChild(t)):O[e]=!0}function A(){b("ready");var e=y;if(y=null,e)if(a)Promise.resolve().then(function(){return _(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&t.push(E(n));e.resolve(t)}}function _(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,o,a,u;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,u=o.chain;if((a=j[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var c=0;c<a.parents.length;c++){var s=a.parents[c],l=j[s];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(l.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),f(n[s],[i])):(delete n[s],t.push(s),r.push({chain:u.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},y=[],v={},S=function(){console.warn("[HMR] unexpected require("+g.moduleId+") to disposed module")};for(var O in d)if(Object.prototype.hasOwnProperty.call(d,O)){var g;u=E(O);var k=!1,T=!1,A=!1,_="";switch((g=d[O]?l(u):{type:"disposed",moduleId:O}).chain&&(_="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+g.moduleId+_));break;case"declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+_));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(g),t.ignoreUnaccepted||(k=new Error("Aborted because "+u+" is not accepted"+_));break;case"accepted":t.onAccepted&&t.onAccepted(g),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(g),A=!0;break;default:throw new Error("Unexception type "+g.type)}if(k)return b("abort"),Promise.reject(k);if(T)for(u in v[u]=d[u],f(y,g.outdatedModules),g.outdatedDependencies)Object.prototype.hasOwnProperty.call(g.outdatedDependencies,u)&&(p[u]||(p[u]=[]),f(p[u],g.outdatedDependencies[u]));A&&(f(y,[g.moduleId]),v[u]=S)}var P,N=[];for(r=0;r<y.length;r++)u=y[r],j[u]&&j[u].hot._selfAccepted&&N.push({module:u,errorHandler:j[u].hot._selfAccepted});b("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete C[e]}(e)});for(var D,x,R=y.slice();R.length>0;)if(u=R.pop(),a=j[u]){var U={},L=a.hot._disposeHandlers;for(o=0;o<L.length;o++)(n=L[o])(U);for(c[u]=U,a.hot.active=!1,delete j[u],delete p[u],o=0;o<a.children.length;o++){var q=j[a.children[o]];q&&((P=q.parents.indexOf(u))>=0&&q.parents.splice(P,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=j[u]))for(x=p[u],o=0;o<x.length;o++)D=x[o],(P=a.children.indexOf(D))>=0&&a.children.splice(P,1);for(u in b("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,u)&&(e[u]=v[u]);var Q=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=j[u])){x=p[u];var M=[];for(r=0;r<x.length;r++)if(D=x[r],n=a.hot._acceptedDependencies[D]){if(-1!==M.indexOf(n))continue;M.push(n)}for(r=0;r<M.length;r++){n=M[r];try{n(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:x[r],error:e}),t.ignoreErrored||Q||(Q=e)}}}for(r=0;r<N.length;r++){var B=N[r];u=B.module,s=[u];try{I(u)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||Q||(Q=n),Q||(Q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||Q||(Q=e)}}return Q?(b("fail"),Promise.reject(Q)):(b("idle"),new Promise(function(e){e(y)}))}var j={},C={2:0},P=[];function I(t){if(j[t])return j[t].exports;var n=j[t]={i:t,l:!1,exports:{},hot:f(t),parents:(l=s,s=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=j[e];if(!t)return I;var n=function(n){return t.hot.active?(j[n]?-1===j[n].parents.indexOf(e)&&j[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),I(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(t){I[e]=t}}};for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===m&&b("prepare"),S++,I.e(e).then(t,function(e){throw t(),e});function t(){S--,"prepare"===m&&(O[e]||T(e),0===S&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),I.t(e,-2&t)},n}(t)),n.l=!0,n.exports}I.m=e,I.c=j,I.d=function(e,t,n){I.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,t){if(1&t&&(e=I(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(I.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)I.d(n,r,function(t){return e[t]}.bind(null,r));return n},I.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(t,"a",t),t},I.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},I.p="/resources/themes/sdlt/dist/img/",I.h=function(){return i};var N=window.webpackJsonp=window.webpackJsonp||[],D=N.push.bind(N);N.push=t,N=N.slice();for(var x=0;x<N.length;x++)t(N[x]);var R=D;P.push([370,0]),n()}({104:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},155:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},347:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},348:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},349:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},350:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},352:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},353:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},354:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},355:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},362:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},363:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},370:function(e,t,n){n(159),e.exports=n(650)},51:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},595:function(e,t,n){var r={"./af":211,"./af.js":211,"./ar":212,"./ar-dz":213,"./ar-dz.js":213,"./ar-kw":214,"./ar-kw.js":214,"./ar-ly":215,"./ar-ly.js":215,"./ar-ma":216,"./ar-ma.js":216,"./ar-sa":217,"./ar-sa.js":217,"./ar-tn":218,"./ar-tn.js":218,"./ar.js":212,"./az":219,"./az.js":219,"./be":220,"./be.js":220,"./bg":221,"./bg.js":221,"./bm":222,"./bm.js":222,"./bn":223,"./bn.js":223,"./bo":224,"./bo.js":224,"./br":225,"./br.js":225,"./bs":226,"./bs.js":226,"./ca":227,"./ca.js":227,"./cs":228,"./cs.js":228,"./cv":229,"./cv.js":229,"./cy":230,"./cy.js":230,"./da":231,"./da.js":231,"./de":232,"./de-at":233,"./de-at.js":233,"./de-ch":234,"./de-ch.js":234,"./de.js":232,"./dv":235,"./dv.js":235,"./el":236,"./el.js":236,"./en-SG":237,"./en-SG.js":237,"./en-au":238,"./en-au.js":238,"./en-ca":239,"./en-ca.js":239,"./en-gb":240,"./en-gb.js":240,"./en-ie":241,"./en-ie.js":241,"./en-il":242,"./en-il.js":242,"./en-nz":243,"./en-nz.js":243,"./eo":244,"./eo.js":244,"./es":245,"./es-do":246,"./es-do.js":246,"./es-us":247,"./es-us.js":247,"./es.js":245,"./et":248,"./et.js":248,"./eu":249,"./eu.js":249,"./fa":250,"./fa.js":250,"./fi":251,"./fi.js":251,"./fo":252,"./fo.js":252,"./fr":253,"./fr-ca":254,"./fr-ca.js":254,"./fr-ch":255,"./fr-ch.js":255,"./fr.js":253,"./fy":256,"./fy.js":256,"./ga":257,"./ga.js":257,"./gd":258,"./gd.js":258,"./gl":259,"./gl.js":259,"./gom-latn":260,"./gom-latn.js":260,"./gu":261,"./gu.js":261,"./he":262,"./he.js":262,"./hi":263,"./hi.js":263,"./hr":264,"./hr.js":264,"./hu":265,"./hu.js":265,"./hy-am":266,"./hy-am.js":266,"./id":267,"./id.js":267,"./is":268,"./is.js":268,"./it":269,"./it-ch":270,"./it-ch.js":270,"./it.js":269,"./ja":271,"./ja.js":271,"./jv":272,"./jv.js":272,"./ka":273,"./ka.js":273,"./kk":274,"./kk.js":274,"./km":275,"./km.js":275,"./kn":276,"./kn.js":276,"./ko":277,"./ko.js":277,"./ku":278,"./ku.js":278,"./ky":279,"./ky.js":279,"./lb":280,"./lb.js":280,"./lo":281,"./lo.js":281,"./lt":282,"./lt.js":282,"./lv":283,"./lv.js":283,"./me":284,"./me.js":284,"./mi":285,"./mi.js":285,"./mk":286,"./mk.js":286,"./ml":287,"./ml.js":287,"./mn":288,"./mn.js":288,"./mr":289,"./mr.js":289,"./ms":290,"./ms-my":291,"./ms-my.js":291,"./ms.js":290,"./mt":292,"./mt.js":292,"./my":293,"./my.js":293,"./nb":294,"./nb.js":294,"./ne":295,"./ne.js":295,"./nl":296,"./nl-be":297,"./nl-be.js":297,"./nl.js":296,"./nn":298,"./nn.js":298,"./pa-in":299,"./pa-in.js":299,"./pl":300,"./pl.js":300,"./pt":301,"./pt-br":302,"./pt-br.js":302,"./pt.js":301,"./ro":303,"./ro.js":303,"./ru":304,"./ru.js":304,"./sd":305,"./sd.js":305,"./se":306,"./se.js":306,"./si":307,"./si.js":307,"./sk":308,"./sk.js":308,"./sl":309,"./sl.js":309,"./sq":310,"./sq.js":310,"./sr":311,"./sr-cyrl":312,"./sr-cyrl.js":312,"./sr.js":311,"./ss":313,"./ss.js":313,"./sv":314,"./sv.js":314,"./sw":315,"./sw.js":315,"./ta":316,"./ta.js":316,"./te":317,"./te.js":317,"./tet":318,"./tet.js":318,"./tg":319,"./tg.js":319,"./th":320,"./th.js":320,"./tl-ph":321,"./tl-ph.js":321,"./tlh":322,"./tlh.js":322,"./tr":323,"./tr.js":323,"./tzl":324,"./tzl.js":324,"./tzm":325,"./tzm-latn":326,"./tzm-latn.js":326,"./tzm.js":325,"./ug-cn":327,"./ug-cn.js":327,"./uk":328,"./uk.js":328,"./ur":329,"./ur.js":329,"./uz":330,"./uz-latn":331,"./uz-latn.js":331,"./uz.js":330,"./vi":332,"./vi.js":332,"./x-pseudo":333,"./x-pseudo.js":333,"./yo":334,"./yo.js":334,"./zh-cn":335,"./zh-cn.js":335,"./zh-hk":336,"./zh-hk.js":336,"./zh-tw":337,"./zh-tw.js":337};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=595},650:function(e,t,n){"use strict";n.r(t);n(371),n(373),n(374),n(377),n(378),n(379),n(118),n(382),n(383),n(385),n(386),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(419),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(444),n(445),n(446),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(178),n(460),n(462),n(463),n(464),n(465),n(466),n(467),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508);var r=n(0),o=n.n(r),a=n(61),i=n.n(a),u=n(656),c=n(655),s=n(8),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE:"LOAD_QUESTIONNAIRE_SUBMISSION_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST",FETCH_AWAITING_APPROVAL_LIST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST",FETCH_MY_PRODUCT_LIST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT:"SRA/LOAD_SECURITY_RISK_ASSESSMENT"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT:"CVA/LOAD_CONTROL_VALIDATION_AUDIT",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER"},SITE_CONFIG:{SET_SITE_TITLE:"ACTION_SITE_CONFIG_SET_SITE_TITLE"}},f=n(36),p=n(155),m=n.n(p),b=n(347),y=n.n(b),d=n(348),h=n.n(d),v=n(349),S=n.n(v),O=n(350),g=n.n(O),w=n(4),E=n.n(w),k=n(6),T=n.n(k),A=n(351),j=n.n(A),C=n(103),P=n.n(C),I=n(2),N=n.n(I);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/task/submission/".concat(e,"?token=").concat(t):"/#/task/submission/".concat(e)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/component-selection/submission/".concat(e,"?token=").concat(t):"/#/component-selection/submission/".concat(e)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/security-risk-assessment/submission/".concat(e,"?token=").concat(t):"/#/security-risk-assessment/submission/".concat(e)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/control-validation-audit/submission/".concat(e,"?token=").concat(t):"/#/control-validation-audit/submission/".concat(e)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&D(t.prototype,n),r&&D(t,r),e}();function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=R({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),u={query:j()(r),variables:o},e.next=6,P.a.request({url:"/graphql",method:"post",data:u,headers:i});case 6:if(c=e.sent,s=c.data,!(l=N.a.get(s,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,u,"next",e)}function u(e){L(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&q(t.prototype,n),r&&q(t,r),e}(),M=new Error("There is an error when fetching data..."),B=new Error("There is an error when parsing data...");function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw B;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&N.a.keys(t).forEach(function(e){n[N.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return N.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(N.a.get(r,"isCurrent",!1))&&(t=n)}),t}(a);return o.map(function(e,t){var n=N.a.toString(N.a.get(e,"ID","")),r=Boolean(N.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(N.a.get(a,"".concat(n,".isApplicable"),!0)),u=!1;u=i?i===n:0===t;var c=null,s=null,l=r?N.a.get(a,"".concat(n,".inputs"),[]):[],f=r?N.a.get(a,"".concat(n,".actions"),[]):[],p=N.a.get(e,"AnswerInputFields",[]),m=N.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(c=p.map(function(e){var t=N.a.toString(N.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","product aspects","date","url","radio","checkbox"].includes(t)||(t="text");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,required:Boolean(N.a.toInteger(N.a.get(e,"Required",!1))),minLength:Number.parseInt(N.a.toString(N.a.get(e,"MinLength",0))),maxLength:Number.parseInt(N.a.toString(N.a.get(e,"MaxLength",0))),placeholder:N.a.toString(N.a.get(e,"PlaceHolder","")),options:N.a.has(e,"MultiChoiceAnswer")?JSON.parse(N.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:N.a.has(e,"MultiChoiceSingleAnswerDefault")?N.a.toString(N.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:N.a.has(e,"MultiChoiceMultipleAnswerDefault")?N.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=N.a.head(l.filter(function(e){return e.id===n}));if(o){var a=N.a.toString(N.a.get(o,"data",null));a&&(r.data=a)}}return r})),m&&Array.isArray(m)&&m.length>0&&(s=m.map(function(e){var t=N.a.toString(N.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=N.a.toString(N.a.get(e,"Message",""))),"goto"===t&&(r.goto=N.a.toString(N.a.get(e,"GotoID",""))),"finish"===t&&(r.result=N.a.toString(N.a.get(e,"Result","")));var o=N.a.toString(N.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=N.a.head(f.filter(function(e){return e.id===n}));if(a){var i=Boolean(N.a.get(a,"isChose",!1));r.isChose=i}}return r}));var b={id:n,title:N.a.toString(N.a.get(e,"Title","")),heading:N.a.toString(N.a.get(e,"Question","")),description:N.a.toString(N.a.get(e,"Description","")),type:"input"===N.a.toString(N.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:u,hasAnswer:r,isApplicable:o};return c&&(b.inputs=c),s&&(b.actions=s),b})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),K=n(73),J=n.n(K);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(E()(e,"ID","")),n=T()(E()(e,"Name","")),r=T()(E()(e,"ComponentTarget","")),o=T()(E()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=T()(E()(e,"QuestionsDataJSON",""));return i&&(a=H.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?J()(t).map(function(e){return{name:T()(E()(e,"Name")),value:T()(E()(e,"Value")),operator:T()(E()(e,"Operator")),colour:T()(E()(e,"Colour"))}}):[]}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();function z(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=E()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw M;case 7:return r=n[0],o=T()(E()(r,"Title","")),a=T()(E()(r,"Subtitle","")),i=E()(r,"Pillars",[]),u=this.parsePillars(i),c=E()(r,"Tasks",[]),s=this.parseTasks(c),e.abrupt("return",{title:o,subtitle:a,pillars:u,tasks:s});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){z(a,r,o,i,u,"next",e)}function u(e){z(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=y.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=S.a;break;case"risk_questionnaire":t=g.a}return{title:T()(E()(e,"Label","")),disabled:Boolean(E()(e,"Disabled",!0)),questionnaireID:T()(E()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=W.parseFromJSONObject(e);t.push(n)}),t}}],n&&G(t.prototype,n),r&&G(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,u,"next",e)}function u(e){ee(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(104),re=n.n(ne),oe=n(653);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,se(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ie(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(oe.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ue(n.prototype,a),i&&ue(n,i),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,de(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=["TaskButton"].concat(me(this.props.classes));return o.a.createElement(oe.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&be(n.prototype,a),i&&be(n,i),t}(),Se=n(352),Oe=n.n(Se);function ge(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=N.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ge(a,r,o,i,u,"next",e)}function u(e){ge(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&we(t.prototype,n),r&&we(t,r),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,Ce(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ae(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:Oe.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Te(a,r,o,i,u,"next",e)}function u(e){Te(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&_e(n.prototype,a),i&&_e(n,i),t}();Ie.defaultProps={classes:[]};var Ne=Ie,De=n(74),xe=n.n(De);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qe(this,Me(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Le(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:xe.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ue(a,r,o,i,u,"next",e)}function u(e){Ue(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&qe(n.prototype,a),i&&qe(n,i),t}();Fe.defaultProps={classes:[]};var Ve=Fe,He=n(353),Ke=n.n(He);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,Ze(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){We(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ke.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ye(a,r,o,i,u,"next",e)}function u(e){Ye(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&ze(n.prototype,a),i&&ze(n,i),t}();$e.defaultProps={classes:[]};var et=$e,tt=n(354),nt=n.n(tt);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,ct(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){at(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:nt.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ot(a,r,o,i,u,"next",e)}function u(e){ot(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&it(n.prototype,a),i&&it(n,i),t}();lt.defaultProps={classes:[]};var ft=lt;function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(this,dt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mt(e,t,n[t])})}return e}({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks;return o.a.createElement("div",{className:"Home"},o.a.createElement(Ne,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(Ve,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(et,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(ft,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:re.a,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map(function(e,t){return o.a.createElement(fe,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),o.a.createElement("div",{className:"tasks"},a.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(ve,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&bt(n.prototype,a),i&&bt(n,i),t}();function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,wt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,"© 2019 | NZ Transport Agency"))}}])&&Ot(n.prototype,a),i&&Ot(n,i),t}(),Tt=n(355),At=n.n(Tt);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(this,Pt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){return this.props.homeState?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(At.a,'")'),backgroundSize:"cover"}},o.a.createElement(vt,{homeState:this.props.homeState}),o.a.createElement(kt,null)):null}}])&&jt(n.prototype,a),i&&jt(n,i),t}(),Dt=Object(s.b)(function(e){return{homeState:e.homeState}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te())}}})(Nt),xt=n(31),Rt=n.n(xt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,Mt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,u=null;return i&&(u=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:Rt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t)}}])&&qt(n.prototype,a),i&&qt(n,i),t}();Ft.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Vt=Ft;function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wt(this,zt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(Vt,Kt({},this.props,{classes:["LightButton"].concat(Jt(this.props.classes))}))}}])&&Yt(n.prototype,a),i&&Yt(n,i),t}();Zt.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Xt=Zt;function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var on=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tn(this,nn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Xt,{title:"START",onClick:r})))))}}])&&en(n.prototype,a),i&&en(n,i),t}();function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=E()(t,"FirstName")?T()(E()(t,"FirstName",""))+" "+T()(E()(t,"Surname","")):"";return{id:T()(E()(t,"ID")),name:n,email:E()(t,"Email"),isSA:"true"===T()(E()(t,"IsSA")),isCISO:"true"===T()(E()(t,"IsCISO"))}}}],(n=null)&&an(t.prototype,n),r&&an(t,r),e}();function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){sn(e,t,n[t])})}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ln(a,r,o,i,u,"next",e)}function u(e){ln(a,r,o,i,u,"throw",e)}i(void 0)})}}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw M;case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ".concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n  }\n}\n"),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=N.a.get(r,"data.readCurrentMember.0",null),a=N.a.get(r,"data.readQuestionnaire",null),i=N.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw M;case 9:return e.abrupt("return",{title:N.a.get(a,"Name",""),subtitle:N.a.get(i,"Title",""),questionnaireID:N.a.get(a,"ID",""),keyInformation:N.a.get(a,"KeyInformation",""),user:un.parseUserFromJSON(o)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=fn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n  }\n  readSiteConfig {\n    Title\n  }\n}'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=N.a.get(o,"data.readCurrentMember.0",{}),i=N.a.get(o,"data.readQuestionnaireSubmission.0",{}),a&&i){e.next=8;break}throw M;case 8:return u={title:N.a.toString(N.a.get(i,"Questionnaire.Name","")),siteTitle:N.a.toString(N.a.get(o,"data.readSiteConfig.0.Title","")),user:un.parseUserFromJSON(a),isCurrentUserApprover:"true"===N.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===N.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(N.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),questionnaireID:N.a.toString(N.a.get(i,"Questionnaire.ID","")),questionnaireTitle:N.a.toString(N.a.get(i,"Questionnaire.Name","")),submissionID:N.a.toString(N.a.get(i,"ID","")),submissionUUID:N.a.toString(N.a.get(i,"UUID","")),submissionToken:N.a.toString(N.a.get(i,"ApprovalLinkToken","")),productName:N.a.toString(N.a.get(i,"ProductName","")),submitter:{id:N.a.toString(N.a.get(i,"User.ID")),name:N.a.toString(N.a.get(i,"SubmitterName","")),email:N.a.toString(N.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:N.a.toString(N.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:N.a.toString(N.a.get(i,"CisoApprovalStatus","")),businessOwner:N.a.toString(N.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:N.a.toString(N.a.get(i,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{FirstName:N.a.toString(N.a.get(i,"SecurityArchitectApprover.FirstName","")),Surname:N.a.toString(N.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:N.a.toString(N.a.get(i,"CisoApprover.FirstName","")),Surname:N.a.toString(N.a.get(i,"CisoApprover.Surname",""))},questions:H.parseQuestionsFromJSON({schemaJSON:N.a.toString(N.a.get(i,"QuestionnaireData","")),answersJSON:N.a.toString(N.a.get(i,"AnswerData",""))}),businessOwnerApproverName:N.a.toString(N.a.get(i,"BusinessOwnerApproverName","")),taskSubmissions:N.a.toArray(N.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:N.a.toString(N.a.get(e,"UUID","")),taskName:N.a.toString(N.a.get(e,"TaskName","")),taskType:N.a.toString(N.a.get(e,"TaskType","")),status:N.a.toString(N.a.get(e,"Status","")),approver:un.parseUserFromJSON(N.a.get(e,"TaskApprover"))}}),riskResults:N.a.has(i,"RiskResultData")?JSON.parse(N.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,u=window.btoa(JSON.stringify(a)),c='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(u,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,Q.request({query:c,csrfToken:i});case 5:if(s=e.sent,N.a.get(s,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw M;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=cn({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw M;case 3:for(u=[],c=0;c<o.length;c++)s=o[c],l=a[c],f=window.btoa(JSON.stringify(l)),p="\nupdateQuestion".concat(s,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(s,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),u.push(p);return m="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,Q.request({query:m,csrfToken:i});case 8:if(b=e.sent,N.a.get(b,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),u&&c){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),u&&c){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),u&&c){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),u&&c){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=fn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          ID\n        }\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=N.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=N.a.get(e,"ID",""),t.uuid=N.a.get(e,"UUID",""),t.status=N.a.get(e,"QuestionnaireStatus",""),t.productName=N.a.get(e,"ProductName",""),t.questionnaireName=N.a.get(e,"QuestionnaireName",""),t.created=N.a.get(e,"Created",""),t.businessOwner=N.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=N.a.get(e,"SubmitterName",""),t.SecurityArchitectApproverID=N.a.get(e,"SecurityArchitectApprover.ID",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToApproved.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=fn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToDenied.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&pn(t.prototype,n),r&&pn(t,r),e}();function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yn(e,t,n[t])})}return e}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&N.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=bn({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=bn({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex(function(e){return e.id===n.id}),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var u=n.actions.find(function(e){return e.isChose});if(!u)throw new Error("This question does not have any chosen action!");if("finish"===u.type){for(var c=i.currentIndex+1;c<r.length;c++)i.nonApplicableIndexes.push(c);i.result=u.result||"",i.complete=!0}if("message"===u.type&&(i.terminate=!0),"continue"!==u.type||a||(i.targetIndex=i.currentIndex+1),"goto"===u.type){var s=u.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===s}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&dn(t.prototype,n),r&&dn(t,r),e}(),vn=n(152),Sn=n.n(vn);function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return J()(t).map(function(t){var n=e.parseFromJSONObject(E()(t,"SecurityComponent"));return n.productAspect=T()(E()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(E()(e,"ID")),name:T()(E()(e,"Name")),description:T()(E()(e,"Description")),controls:(E()(e,"Controls")||[]).map(function(e){return{id:T()(E()(e,"ID")),name:T()(E()(e,"Name")),description:T()(E()(e,"Description"))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:T()(E()(e,"id")),name:T()(E()(e,"name")),productAspect:T()(E()(e,"productAspect","")),controls:(E()(e,"controls")||[]).map(function(e){return{id:T()(E()(e,"id")),name:T()(E()(e,"name")),selectedOption:T()(E()(e,"selectedOption"))}})}})}}],(n=null)&&On(t.prototype,n),r&&On(t,r),e}();function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var En=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return J()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(E()(e,"ID")),jiraKey:T()(E()(e,"JiraKey")),link:T()(E()(e,"TicketLink"))}}}],(n=null)&&wn(t.prototype,n),r&&wn(t,r),e}();function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tn(e,t,n[t])})}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _n(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){An(a,r,o,i,u,"next",e)}function u(e){An(a,r,o,i,u,"throw",e)}i(void 0)})}}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    ComponentTarget\n    ProductAspects\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=E()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return c={id:T()(E()(u,"ID","")),uuid:T()(E()(u,"UUID","")),taskName:T()(E()(u,"TaskName","")),taskType:T()(E()(u,"TaskType","")),status:T()(E()(u,"Status","")),result:T()(E()(u,"Result","")),submitter:un.parseUserFromJSON(E()(u,"Submitter")),lockWhenComplete:Boolean(E()(u,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(E()(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(E()(u,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(E()(u,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:H.parseQuestionsFromJSON({schemaJSON:T()(E()(u,"QuestionnaireData","")),answersJSON:T()(E()(u,"AnswerData",""))}),selectedComponents:gn.parseFromJSONOArray(E()(u,"SelectedComponents",[])),jiraTickets:En.parseFromJSONArray(E()(u,"JiraTickets",[])),isCurrentUserAnApprover:"true"===_.get(u,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===E()(u,"IsTaskApprovalRequired",!1),riskResults:_.has(u,"RiskResultData")?JSON.parse(_.get(u,"RiskResultData","[]")):"[]",productAspects:_.has(u,"ProductAspects")?JSON.parse(_.get(u,"ProductAspects",[])):[],componentTarget:T()(E()(u,"ComponentTarget",""))},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=kn({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,u=n.secureToken,o.length===a.length){e.next=3;break}throw M;case 3:for(c=[],s=0;s<o.length;s++)l=o[s],f=a[s],p=window.btoa(JSON.stringify(f)),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(u||"",'"\n) {\n  UUID\n  Status\n}'),c.push(m);return b="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,Q.request({query:b,csrfToken:i});case 8:if(y=e.sent,E()(y,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,u='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:a});case 4:if(c=e.sent,E()(c,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,E()(u,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,Q.request({query:o});case 4:if(a=e.sent,i=E()(a,"data.readTask",null)){e.next=8;break}throw M;case 8:return u=W.parseFromJSONObject(i),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,u='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:o});case 4:if(c=e.sent,E()(c,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=_n(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&jn(t.prototype,n),r&&jn(t,r),e}();function Pn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function In(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Nn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){In(a,r,o,i,u,"next",e)}function u(e){In(a,r,o,i,u,"throw",e)}i(void 0)})}}function Dn(e,t){return void 0===t&&(t=""),function(){var n=Nn(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,mn.fetchSubmissionData(e,t);case 3:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE,payload:a})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}var a},n,this,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}function xn(e){return function(){var t=Nn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u,c,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=hn.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),u=i.currentIndex,c=i.targetIndex,s=i.nonApplicableIndexes,f=i.complete,s.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:s}),c>u&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=9,Rn(r(),N.a.uniq([u].concat(Pn(s),[c])));case 9:f&&x.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function Rn(e,t){return Un.apply(this,arguments)}function Un(){return(Un=Nn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,mn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return hn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mn(this,Bn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qn(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:re.a,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Ne,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Qn(n.prototype,a),i&&Qn(n,i),t}();Vn.defaultProps={title:"",subtitle:"",username:"",showLogoutButton:!0};var Hn=Vn;function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yn(e,t,n[t])})}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zn(this,Gn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Jn({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Jn({},this.props.startState),t=e.title,n=e.subtitle,r=e.keyInformation,a=e.user,i=Jn({},this.props),u=i.questionnaireID,c=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(Hn,{title:t,subtitle:n,username:a.name}),o.a.createElement(on,{keyInformation:r,user:a,onStartButtonClick:function(){c(u)}}),o.a.createElement(kt,null)):null}}])&&Wn(n.prototype,a),i&&Wn(n,i),t}(),$n=Object(s.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mn.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,mn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,x.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(Xn),er=n(52);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rr(e,t,n[t])})}return e}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ar(this,ir(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=nr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=nr({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:xe.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&or(n.prototype,a),i&&or(n,i),t}();function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(this,mr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map(function(e,t){return o.a.createElement(cr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&fr(n.prototype,a),i&&fr(n,i),t}();function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Er=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Or(this,gr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(Vt,hr({},this.props,{classes:["DarkButton"].concat(vr(this.props.classes))}))}}])&&Sr(n.prototype,a),i&&Sr(n,i),t}();Er.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var kr=Er,Tr=n(3),Ar=n.n(Tr),_r=n(368);n(597);function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ir(e,t,n[t])})}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ur=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dr(this,xr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=Pr({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description"},t.description),this.renderActions(t),this.renderInputsForm(t))}},{key:"renderActions",value:function(e){var t=Pr({},this.props).handleActionClick;if("action"===e.type){var n=N.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find(function(e){return e.isChose});return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return o.a.createElement(kr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Xt,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r)}}},{key:"renderInputsForm",value:function(e){var t=Pr({},this.props).handleFormSubmit;if("input"===e.type){var n=N.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach(function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)}),o.a.createElement(er.c,{initialValues:r,validate:function(e){var t={};return n.forEach(function(n){var r=Pr({},n),o=r.id,a=r.type,i=r.required,u=r.label,c=r.minLength,s=N.a.get(e,o,null);if(i&&(!s||"[]"===s))return t[o]="- Please enter a value for ".concat(u),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(u)));if(c>0&&s&&s.length<c)t[o]="- Please enter a value with at least ".concat(c," characters for ").concat(u);else if("email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)){if("date"===a)Ar()(s,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date");"product aspects"!==a||!s||/^[0-9a-zA-Z\s\n]+$/i.test(s)||(t[o]="- Please enter alpha-numeric characters only.")}else t[o]="- Invalid email address"}),t},onSubmit:function(e,n){t(n,e)}},function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,u=[];return N.a.keys(t).filter(function(e){return Boolean(r[e])}).forEach(function(e){u[e]=t[e]}),o.a.createElement(er.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map(function(e){var t=Pr({},e),n=t.id,r=t.type,c=t.label,s=t.placeholder,l=t.options,f=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),p=Boolean(N.a.get(u,n,null)),m=[];return p&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(er.a,{type:r,name:n,className:m.join(" "),placeholder:s,maxlength:f>0?f:4096}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=N.a.toString(e.value)===N.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("span",null,o.a.createElement(er.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),o.a.createElement("label",null,e.label)))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=i[n]?JSON.parse(i[n]):[],u=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("span",null,o.a.createElement("input",{type:"checkbox",name:n,className:"radio",checked:u,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),o.a.createElement("label",null,e.label)))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(er.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=Ar()(r).toDate()),o.a.createElement(_r.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=Ar()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:s,dropdownMode:"scroll",withPortal:!0})}}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r||"product aspects"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(er.a,{name:n},function(e){var t=e.field;return o.a.createElement("textarea",Cr({},t,{className:m.join(" "),placeholder:s}))}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null}),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(kr,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},u&&N.a.keys(u).length>0&&o.a.createElement("div",null,"Whoops!",N.a.keys(u).map(function(e){return o.a.createElement("div",{className:"text-error",key:e},u[e])})))))))})}}}])&&Nr(n.prototype,a),i&&Nr(n,i),t}();function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qr(e,t,n[t])})}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Br(this,Fr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleFormSubmit",value:function(e,t){var n=qr({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find(function(e){return!0===e.isCurrent});if(a){var i=qr({},a);N.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&N.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=qr({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find(function(e){return!0===e.isCurrent});if(o){var a=qr({},o);a.actions=a.actions.map(function(t){return t.isChose=t.id===e.id,t}),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=qr({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find(function(e){return!0===e.isCurrent}),a=t.findIndex(function(e){return e.id===r.id});return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(yr,{questions:t,onItemClick:n}),r&&o.a.createElement(Ur,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&Mr(n.prototype,a),i&&Mr(n,i),t}();function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yr(e,t,n[t])})}return e}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,Gr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Jr({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Jr({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=Jr({},this.props.submissionState),a=r.title,i=r.siteTitle,u=r.user,c=r.submission;return u&&c?"in_progress"!==c.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Hn,{title:a,subtitle:i,username:u.name}),o.a.createElement("div",{className:"Questionnaire"},o.a.createElement("h1",null,"The questionnaire is not in progress...")),o.a.createElement(kt,null)):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Hn,{title:a,subtitle:i,username:u.name}),o.a.createElement(Hr,{questions:c.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(kt,null)):null}}])&&Wr(n.prototype,a),i&&Wr(n,i),t}(),$r=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Dn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Nn(regeneratorRuntime.mark(function e(t,r){var o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=N.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,u=n.id,c=hn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,mn.updateSubmissionData({submissionID:a,questionID:u,csrfToken:i,answerData:c});case 13:t(xn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((u=a.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=15,Rn(r(),[i,u]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Xr),eo=n(51),to=n.n(eo),no=n(76),ro=n.n(no);function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,co(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ao(e,t,n[t])})}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return o.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return o.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"===e.type&&(t=Ar()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))})):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=N.a.head(e.actions.filter(function(e){return e.isChose}));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&io(n.prototype,a),i&&io(n,i),t}();function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ho(e,t){return(ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bo(this,yo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ho(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){po(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,u=e.handleEditAnswerButtonClick;if(!t)return null;var c=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(Xt,{title:"EDIT ANSWERS",iconImage:to.a,classes:["button"],onClick:u}),o.a.createElement(Xt,{title:"DOWNLOAD PDF",iconImage:ro.a,classes:["button"],onClick:i}),o.a.createElement(kr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:hn.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Xt,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return x.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&c,o.a.createElement(lo,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&l)}}])&&mo(n.prototype,a),i&&mo(n,i),t}(),So=n(158),Oo=n.n(So),go=n(361),wo=n.n(go);function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ko=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Eo(t.prototype,n),r&&Eo(t,r),e}(),To=n(362),Ao=n.n(To),_o=n(363),jo=n.n(_o);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Io(e,t,n[t])})}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function xo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Do(a,r,o,i,u,"next",e)}function u(e){Do(a,r,o,i,u,"throw",e)}i(void 0)})}}function Ro(e){return Uo.apply(this,arguments)}function Uo(){return(Uo=xo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Lo(e){return qo.apply(this,arguments)}function qo(){return(qo=xo(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,Ro(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=xo(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,b,y,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Po({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteTitle,u=n.result,c=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:(s=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:s},m={title:"".concat(a," - ").concat(o.name,".pdf")},b=wo.a.pdfMake.vfs,Oo.a.vfs=b,e.next=10,Lo(Ao.a);case 10:return y=e.sent,l.push({image:y,width:500,margin:[0,0,0,s]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),l.push({text:i,style:"siteTitle",margin:[0,0,0,2*s]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),u&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"".concat(u),margin:[0,0,0,2*s]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Ar()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(ko.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=N.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,s]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,s]});else l.push({text:"(Not applicable)",margin:[0,0,0,s]})}),e.next=22,Lo(jo.a);case 22:return d=e.sent,"object"===Co(c)&&c.length>0&&(h=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],c.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),h.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:h},width:500,margin:[0,0,0,s]})),l.push({image:d,width:500,margin:[0,0,0,s]}),e.prev=25,e.next=28,Oo.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Can't download PDF, please disable AdBlock!");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=xo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&No(t.prototype,n),r&&No(t,r),e}();function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fo(e,t,n[t])})}return e}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jo(e,t){return(Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ho(this,Ko(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jo(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Bo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Bo({},this.props).secureToken,t=Bo({},this.props.submissionState),n=t.title,r=t.siteTitle,a=t.user,i=t.submission,u=t.isCurrentUserApprover,c=t.isCurrentUserABusinessOwnerApprover;if(!a)return null;var s="others";do{if(a.id===i.submitter.id){s="submitter";break}if(u){s="approver";break}if(c){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(Hn,{title:n,subtitle:"Review Responses",username:a.name}),o.a.createElement(vo,{siteTitle:r,viewAs:s,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(kt,null))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Bo({},this.props.submissionState),t=e.submission,n=e.siteTitle;t&&Qo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteTitle:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=N.a.get(this.props.submissionState,"submission.submissionUUID","");e&&x.redirectToQuestionnaireEditing(e)}}])&&Vo(n.prototype,a),i&&Vo(n,i),t}(),Wo=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Dn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Nn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!hn.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,mn.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:u=e.sent,c=u.uuid,x.redirectToQuestionnaireSummary(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(Yo);function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ta=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xo(this,$o(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Go(e,t,n[t])})}return e}({},this.props).riskResults;return e&&0!==e.length?o.a.createElement("div",{className:"risks"},o.a.createElement("h3",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),o.a.createElement("th",null,"Weights"),o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),o.a.createElement("td",null,e.weights),o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&Zo(n.prototype,a),i&&Zo(n,i),t}();function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oa(e,t,n[t])})}return e}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sa=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},la=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ia(this,ua(t).call(this,e))).state={skipBoAndCisoApproval:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(t,r["Component"]),n=t,(a=[{key:"hasUnfinishedTaskSubmissions",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){var r="security risk assessment"===e.taskType,o="risk questionnaire"===e.taskType,a="start"===e.status||"in_progress"===e.status;!r&&o&&a&&(n=!0)}),n}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){console.log(e.taskType),"selection"===e.taskType&&(n=!0)}),n}},{key:"render",value:function(){var e=ra({},this.props),t=e.submission,n=e.viewAs,r=e.user;return t?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Submission has not been complete...")):o.a.createElement("div",{className:"Summary"},this.renderSubmitterInfo(t),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(ta,{riskResults:t.riskResults}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",{className:"request-info"},o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",sa(e.status)))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions;if(0===n.length)return null;var r=this.hasUnfinishedTaskSubmissions(e),a=o.a.createElement("div",{className:"alert alert-warning"},"Please complete all tasks to see the Security Risk Assessment"),i=o.a.createElement("div",{className:"alert alert-info"},"There are no user-selectable security components. Default security components and controls will be used instead.");return o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),r?a:null,this.hasSelectableComponents(e)?null:i,n.map(function(e){var n=e.uuid,a=e.taskName,i=e.taskType,u=e.status,c=e.approver,s=a+" ("+sa(u)+")";"start"===u&&(s=a+" (Please complete me)","security risk assessment"===i&&!1===r&&(s=a)),"approved"!==u&&"denied"!==u||!c.name||(s=a+" ("+sa(u)+" by "+c.name+")");var l=ra({},t.props).token,f=o.a.createElement("button",{className:"btn btn-link",onClick:function(e){"selection"!==i?"security risk assessment"!==i?"control validation audit"!==i?x.redirectToTaskSubmission(n,l):x.redirectToControlValidationAudit(n,l):x.redirectToSecurityRiskAssessment(n,l):x.redirectToComponentSelectionSubmission(n,l)}},s);return o.a.createElement("div",{key:n},r&&"security risk assessment"===i?null:f)}))}},{key:"renderButtons",value:function(e){var t=this,n=ra({},this.props),r=n.user,a=n.viewAs,i=n.token,u=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,s=n.handleApproveButtonClick,l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=o.a.createElement(Xt,{title:"DOWNLOAD PDF",iconImage:ro.a,classes:["button"],onClick:c}),b=r?o.a.createElement(Xt,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return x.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var y=o.a.createElement(Xt,{title:"EDIT ANSWERS",iconImage:to.a,classes:["button"],onClick:p}),d=o.a.createElement(kr,{title:"SEND FOR APPROVAL",classes:["button"],disabled:hn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:u});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m,d),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var h=o.a.createElement(Xt,{title:"Assign to Me",classes:["button"],onClick:l}),v=o.a.createElement(kr,{title:"APPROVE",classes:["button"],onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),S=o.a.createElement(Xt,{title:"DENY",classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null,v,S))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=sa(t.securityArchitect);"Approved"==a&&(a=n.FirstName+" "+n.Surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.FirstName+" "+n.Surname);var i=sa(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Required"!==i&&(i=r.FirstName+" "+r.Surname+" - "+i);var u=sa(t.businessOwner);return"Pending"!==u&&"Not Required"!==u&&(u=e.businessOwnerApproverName+" - "+u),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect")," - ",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer")," - ",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner")," - ",u))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&aa(n.prototype,a),i&&aa(n,i),t}();la.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},viewAs:"others",token:"",user:null};var fa=la,pa=n(107),ma=n.n(pa);function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){da(e,t,n[t])})}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=va(this,Sa(t).call(this))).state={showModal:!1},e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ya({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken)}},{key:"render",value:function(){var e=ya({},this.props).secureToken,t=ya({},this.props.submissionState),n=(t.location,t.title),r=t.user,a=t.submission,i=t.isCurrentUserApprover,u=t.isCurrentUserABusinessOwnerApprover;if(!r||!a)return null;var c="others";do{if(r.id===a.submitter.id){c="submitter";break}if(u){c="businessOwnerApprover";break}if(i){c="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Hn,{title:n,subtitle:"Summary",username:r.name}),o.a.createElement(fa,{submission:a,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),viewAs:c,user:r,token:e}),o.a.createElement(kt,null),o.a.createElement(ma.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(kr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Xt,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=ya({},this.props.submissionState),n=t.submission,r=t.siteTitle;n&&(n&&n.riskResults&&(e=n.riskResults),Qo.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteTitle:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=ya({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ya({},this.props).secureToken,n=ya({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i?this.props.dispatchBusinessOwnerApproveSubmissionAction(o.submissionID,t):a&&this.props.dispatchApproveSubmissionAction(o.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ya({},this.props).secureToken,n=ya({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i?this.props.dispatchBusinessOwnerDenySubmissionAction(o.submissionID,t):a&&this.props.dispatchDenySubmissionAction(o.submissionID,e))}},{key:"handleAssignToMeButtonClick",value:function(){var e=ya({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=ya({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}}])&&ha(n.prototype,a),i&&ha(n,i),t}(),wa=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(Dn(t,n))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=Nn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,mn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Dn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=Nn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,mn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Dn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,mn.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Dn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,mn.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,x.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Nn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,mn.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Dn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Nn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,mn.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Dn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchAssignToMeAction:function(t){e(function(e){return t=Nn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,mn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Dn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(ga),Ea=n(364),ka=n.n(Ea);function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Aa(e,t,n[t])})}return e}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ja(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){_a(a,r,o,i,u,"next",e)}function u(e){_a(a,r,o,i,u,"throw",e)}i(void 0)})}}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=ja(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n        ID\n        Name\n        Description\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n        ID\n        Name\n        Description\n    }\n  }\n}"});case 3:if(t=e.sent,n=E()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return gn.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=ja(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ta({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),u="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,Q.request({query:u,csrfToken:a});case 5:if(c=e.sent,s=E()(c,"data",null)){e.next=9;break}throw M;case 9:return l=ka()(o.map(function(e){var t="createJiraTicket".concat(e),n=E()(s,t,null);return n?{id:T()(E()(n,"ID","")),jiraKey:T()(E()(n,"JiraKey","")),link:T()(E()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Ca(t.prototype,n),r&&Ca(t,r),e}();function Ia(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Na(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ia(a,r,o,i,u,"next",e)}function u(e){Ia(a,r,o,i,u,"throw",e)}i(void 0)})}}function Da(){return function(){var e=Na(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function xa(e,t){return function(){var n=Na(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Ra(e,t){return function(){var n=Na(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Ua(e){return function(){var t=Na(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function La(e){return function(){var t=Na(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function qa(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=Na(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Qa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ma(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ba(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ma(a,r,o,i,u,"next",e)}function u(e){Ma(a,r,o,i,u,"throw",e)}i(void 0)})}}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Va(e,t,n[t])})}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e){var t=Fa({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=Ba(regeneratorRuntime.mark(function e(t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(qa(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function Ka(e){var t=Fa({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Ba(regeneratorRuntime.mark(function e(t,a){var i,u,c,s,f,p,m,b,y,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return u={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(u);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Cn,e.t1=i().uuid,e.t2=[n.id],e.t3=[hn.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(c=hn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),s=c.currentIndex,f=c.nonApplicableIndexes,p=c.targetIndex,m=c.complete,c.terminate,b=c.result,!(f.length>0)){e.next=29;break}return y={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(y);case 29:if(!(p>s)){e.next=33;break}return d={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:p}},e.next=33,t(d);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,Ga(i(),N.a.uniq([s].concat(Qa(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Ya({bypassNetwork:o,secureToken:r,result:b}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ja(e){return function(){var t=Ba(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return i=o.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}}),t.prev=5,t.t0=Cn,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=12,Ee.getCSRFToken();case 12:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=16,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 16:return t.next=18,n(Ya());case 18:t.next=23;break;case 20:t.prev=20,t.t6=t.catch(5),$.displayError(t.t6);case 23:case"end":return t.stop()}},t,this,[[5,20]])}));return function(e,n){return t.apply(this,arguments)}}()}function Ya(){var e=Fa({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result;return function(){var e=Ba(regeneratorRuntime.mark(function e(o,a){var i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return a().taskSubmissionState.taskSubmission},n){e.next=19;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return u=e.sent,e.next=8,Cn.completeTaskSubmission({uuid:i().uuid,result:r||"",secureToken:t,csrfToken:u});case 8:return c=e.sent,s=c.uuid,e.next=12,o(Ha({uuid:s,secureToken:t}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),$.displayError(e.t0);case 17:e.next=21;break;case 19:return e.next=21,o({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 21:case"end":return e.stop()}},e,this,[[2,14]])}));return function(t,n){return e.apply(this,arguments)}}()}function Wa(e){var t=Fa({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Ba(regeneratorRuntime.mark(function e(t,a){var i,u,c,s,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(u=i.questions,!((c=u.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((s=u.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:s}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,Ga(i,N.a.uniq([c,s]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function za(){var e=Fa({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=Ba(regeneratorRuntime.mark(function e(o,a){var i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=Cn,e.t1=i.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return u=e.sent,c=u.uuid,e.next=18,o(Ha({uuid:c,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,o(qa(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:o({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ga(e,t,n){return Za.apply(this,arguments)}function Za(){return(Za=Ba(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Cn,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return hn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ei(e,t,n[t])})}return e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ai=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ni(this,ri(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=$a({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,u=t.handleDenyButtonClick,c=t.editAnswers,s=t.showBackButton,l=t.showEditButton,f=t.canUpdateAnswers,p=t.viewAs,m=t.secureToken,b=o.a.createElement(lo,{questions:n.questions});f&&(b=o.a.createElement(Hr,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a}));var y=s?o.a.createElement(kr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){x.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,m)}}):null,d=l?o.a.createElement(Xt,{title:"EDIT ANSWERS",onClick:c,iconImage:to.a}):null,h=o.a.createElement(Xt,{title:"DOWNLOAD PDF",iconImage:ro.a,onClick:function(){return e.downloadPdf()}}),v=["complete","waiting_for_approval","approved","denied"],S=n.result&&v.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,O=n.riskResults&&v.indexOf(n.status)>-1?o.a.createElement(ta,{riskResults:n.riskResults}):null,g="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(kr,{title:"APPROVE",onClick:i,classes:["button"]}):null,w="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Xt,{title:"DENY",onClick:u,classes:["button"]}):null;return o.a.createElement("div",{className:"TaskSubmission"},S,b,O,o.a.createElement("div",{className:"buttons"},d,h,y,o.a.createElement("div",null,g,w)))}},{key:"downloadPdf",value:function(){var e=$a({},this.props),t=e.taskSubmission,n=e.siteTitle,r=e.currentUser;t&&Qo.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:r,questionnaireTitle:t.taskName,siteTitle:n,result:t.result,riskResults:t.riskResults})}}])&&ti(n.prototype,a),i&&ti(n,i),t}();function ii(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ci=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}"});case 3:if(t=e.sent,n=N.a.get(t,"data.readCurrentMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=un.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ii(a,r,o,i,u,"next",e)}function u(e){ii(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&ui(t.prototype,n),r&&ui(t,r),e}();function si(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function li(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ci.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){si(a,r,o,i,u,"next",e)}function u(e){si(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function fi(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n  }\n}"});case 3:return t=e.sent,n=N.a.toString(N.a.get(t,"data.readSiteConfig.0.Title","")),e.abrupt("return",{siteTitle:n});case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){fi(a,r,o,i,u,"next",e)}function u(e){fi(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&pi(t.prototype,n),r&&pi(t,r),e}();function bi(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function yi(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mi.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.SET_SITE_TITLE,payload:n.siteTitle},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){bi(a,r,o,i,u,"next",e)}function u(e){bi(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vi(e,t,n[t])})}return e}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ei=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oi(this,gi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=hi({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=hi({},this.props),t=e.siteTitle,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction,c=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.secureToken);if(!n||!r)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||l&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Hn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement(ai,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:s,siteTitle:t,secureToken:c}),o.a.createElement(kt,null))}},{key:"handleApproveButtonClick",value:function(){var e=hi({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=hi({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}}])&&Si(n.prototype,a),i&&Si(n,i),t}(),ki=Object(s.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(li()),e(yi()),e(Ha({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Ka({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Wa({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(za())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=Ba(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Ha({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=Ba(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Ha({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Ei);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ii(e,t,n[t])})}return e}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ni=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_i(this,ji(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Pi({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Pi({},this.props),t=e.siteTitle,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction;if(!n||!r)return null;var c="in_progress"===r.status,s="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Hn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement(ai,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:s,canUpdateAnswers:c,showBackButton:!1,siteTitle:t,currentUser:n}),o.a.createElement(kt,null))}}])&&Ai(n.prototype,a),i&&Ai(n,i),t}(),Di=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Pi({},t).taskId;e(li()),e(yi()),e(function(e){var t,n=Fa({},e).taskId;return t=Ba(regeneratorRuntime.mark(function e(t,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.fetchStandaloneTask({taskId:n});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Ka({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Wa({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(za({bypassNetwork:!0}))}}})(Ni);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ui(e,t,n[t])})}return e}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return!t||"object"!==xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qi(this,Qi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=Ri({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(),o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},t))}},{key:"renderIcon",value:function(){switch(Ri({},this.props).iconType){case"editing":return o.a.createElement("img",{src:xe.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Li(n.prototype,a),i&&Li(n,i),t}();function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&Fi(t.prototype,n),r&&Fi(t,r),e}();function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ji(e,t,n[t])})}return e}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return!t||"object"!==Hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Wi(this,zi(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gi(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=Ki({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,u=t.addComponent,c=t.productAspects,s=t.componentTarget,l=Ki({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},c&&c.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},c.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)})))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter(function(e){return!f||e.name.includes(f)}).map(function(e){var t=Vi.isSelectedComponentExist(e.id,p,a),n=Vi.isComponentSaved(e.id,p,a,s)&&"JIRA Cloud"==s;return o.a.createElement(Bi,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):u(e.id,p)}})})))}}])&&Yi(n.prototype,a),i&&Yi(n,i),t}();function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tu(e,t){return!t||"object"!==Xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nu(e){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ru(e,t){return(ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ou=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tu(this,nu(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ru(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$i(e,t,n[t])})}return e}({},this.props),t=(e.id,e.name),n=e.description;return o.a.createElement("div",{className:"ControlInfo"},o.a.createElement("h5",null,t),o.a.createElement("p",null,n))}}])&&eu(n.prototype,r),a&&eu(n,a),t}();function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t){return!t||"object"!==au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cu(this,su(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){iu(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,u=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!u&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"})),o.a.createElement("span",null,n)),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return o.a.createElement(ou,{key:t,id:e.id,name:e.name,description:e.description})}))}}])&&uu(n.prototype,r),a&&uu(n,a),t}();function pu(e){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bu(e,t,n[t])})}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function du(e,t){return!t||"object"!==pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hu(e){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vu(e,t){return(vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=du(this,hu(t).call(this,e))).state={jiraKey:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=mu({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,u=t.addComponent,c=t.finishWithSelection,s=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,b=mu({},this.state).jiraKey,y=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(Zi,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:u,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},y>0&&p.map(function(e,t){return o.a.createElement("div",{key:t},Vi.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(fu,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===p||""===p||0===p.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(fu,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})),o.a.createElement("div",{className:"buttons"},r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(kr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(b)}})),"Local"===f&&!m&&o.a.createElement(Xt,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){s()}}),o.a.createElement(Xt,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){c()}})))),o.a.createElement("div",{className:"extra-wrapper"},l))}}])&&yu(n.prototype,a),i&&yu(n,i),t}();function Ou(e){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eu(e,t){return!t||"object"!==Ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tu(e,t){return(Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Au=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Eu(this,ku(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,u=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),u>0&&i.map(function(e,n){return o.a.createElement("ul",{key:n},Vi.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return o.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),o.a.createElement("div",{className:"buttons"},r))}}])&&wu(n.prototype,r),a&&wu(n,a),t}();function _u(e){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cu(e,t,n[t])})}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iu(e,t){return!t||"object"!==_u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){return(Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Iu(this,Nu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,ju({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ju({},this.props),t=e.siteTitle,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,s=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n)return null;var p=null;switch(s){case"edit":p=o.a.createElement(Su,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){c(e)},removeComponent:function(e){u(e)},addComponent:function(e){i(e)},finishWithSelection:function(){x.redirectToHome()}});break;case"review":p=o.a.createElement(Au,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(kr,{title:"BACK TO HOME",onClick:function(){x.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Hn,{title:"Component Selection",subtitle:t,username:n.name}),p,o.a.createElement(kt,null))}}])&&Pu(n.prototype,a),i&&Pu(n,i),t}(),Ru=Object(s.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(li()),e(yi()),e(Da())},dispatchAddComponentAction:function(t){e(xa(t))},dispatchRemoveComponentAction:function(t){e(Ra(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=Na(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,Pa.createJiraTickets({jiraKey:e,componentIDList:Sn()(a.map(function(e){return e.id})),csrfToken:i});case 12:return u=t.sent,t.next=15,n(La(u));case 15:return t.next=17,n(Ua("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(xu);function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qu(e,t){return!t||"object"!==Uu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fu(e,t,n[t])})}return e}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qu(this,Qu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Bu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Bu({},this.props),t=e.siteTitle,n=e.secureToken,r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,u=e.selectedComponents,c=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a)return null;var b=null;switch(a.status){case"start":case"in_progress":b=o.a.createElement(Su,{availableComponents:i,selectedComponents:u,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:[o.a.createElement(kr,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){x.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}})],createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){s(e,t)},addComponent:function(e,t){c(e,t)},finishWithSelection:function(){p()}});break;case"complete":b=o.a.createElement(Au,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},o.a.createElement(Xt,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:to.a}),o.a.createElement(kr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){x.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)},classes:["button"]}))]})}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Hn,{title:"Component Selection",subtitle:t,username:r.name}),b,o.a.createElement(kt,null))}}])&&Lu(n.prototype,a),i&&Lu(n,i),t}(),Hu=Object(s.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=Bu({},t),r=n.uuid,o=n.secureToken;e(li()),e(yi()),e(Da()),e(Ha({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(xa(t,n))},dispatchRemoveComponentAction:function(t,n){e(Ra(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Ja(t))},dispatchSaveLocalControlsAction:function(){e(Ja(""))},dispatchFinishAction:function(){e(Ya())},dispatchEditAnswersAction:function(){e(za({type:"componentSelection"}))}}})(Vu);function Ku(e){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yu(e,t,n[t])})}return e}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t){return!t||"object"!==Ku(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zu(e,t){return(Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xu(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var $u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zu(this,Gu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Ju({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ju({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteTitle;return t&&n&&r?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Hn,{title:"My Submission",subtitle:r,username:t.name}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="";return t="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ar()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(kt,null)):null}}])&&Wu(n.prototype,a),i&&Wu(n,i),t}(),ec=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(li());case 2:return t.next=4,e(function(){var e=Nn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,mn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(yi());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Xu(a,r,o,i,u,"next",e)}function u(e){Xu(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})($u);function tc(e){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rc(e,t,n[t])})}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return!t||"object"!==tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ac(this,ic(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,nc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=nc({},this.props),t=e.currentUser,n=e.siteTitle,r=e.awaitingApprovalList;return t&&r&&n?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Hn,{title:"Awaiting Approvals",subtitle:n,username:t.name}),lc(r,t),o.a.createElement(kt,null)):null}}])&&oc(n.prototype,a),i&&oc(n,i),t}(),lc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ar()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,function(e,t,n){return"waiting_for_security_architect_approval"===e&&n.id==t?"Assigned to me":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(e.status,e.SecurityArchitectApproverID,t)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))},fc=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(li());case 2:return t.next=4,e(function(){var e=Nn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,mn.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(yi());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){cc(a,r,o,i,u,"next",e)}function u(e){cc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(sc);function pc(e){return(pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bc(e,t,n[t])})}return e}function bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dc(e,t){return!t||"object"!==pc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Oc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dc(this,hc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,mc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=mc({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteTitle;return t&&n&&r?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Hn,{title:"My Products",subtitle:r,username:t.name}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ar()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(kt,null)):null}}])&&yc(n.prototype,a),i&&yc(n,i),t}(),gc=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,myProductList:e.questionnaireSubmissionListState.myProductList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(li());case 2:return t.next=4,e(function(){var e=Nn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,mn.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(yi());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Sc(a,r,o,i,u,"next",e)}function u(e){Sc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Oc);function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return!t||"object"!==wc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _c(e,t){return(_c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tc(this,Ac(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ec(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return 0===e.length?null:o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.colour}},e.name))})))))}}])&&kc(n.prototype,a),i&&kc(n,i),t}();function Cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"gt",value:function(e,t){return e>t}},{key:"gte",value:function(e,t){return e>=t}},{key:"lt",value:function(e,t){return e<t}},{key:"lte",value:function(e,t){return e<=t}}],(n=null)&&Cc(t.prototype,n),r&&Cc(t,r),e}();function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t){return!t||"object"!==Ic(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uc(e,t){return(Uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xc(this,Rc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uc(e,t)}(t,r["Component"]),n=t,(a=[{key:"lookupLikelihood",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,c=+u.value,s=parseInt(t);switch(u.operator){case"<=":if(Pc.lte(s,c))return u;break;case"<":if(Pc.lt(s,c))return u;break;case">":if(Pc.gt(s,c))return u;break;case">=":if(Pc.gte(s,c))return u}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return{}}},{key:"sumOfLikelihoodWeightsForRisk",value:function(e){var t=0;return e.map(function(e,n){t+=parseInt(e.weight)}),t}},{key:"baseImpactScore",value:function(e){return parseInt(e)}},{key:"combinedResults",value:function(e,t){var n=this;return e.map(function(r,o){e[o].baseImpactScore=n.baseImpactScore(r.score),e[o].sumOfLikelihoodWeightsForRisk=n.sumOfLikelihoodWeightsForRisk([]),e[o].likelihood=n.lookupLikelihood(t,100-e[o].sumOfLikelihoodWeightsForRisk),e[o].impact=n.lookupLikelihood(t,e[o].baseImpactScore)}),e}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nc(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.likelihoodThresholds,r=this.combinedResults(t,n);return 0===n.length?null:o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_matrix_legend_header"},o.a.createElement("th",null,"Risk"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))),o.a.createElement("tbody",null,r.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null," ",e.riskName," ",e.baseImpactScore?" ("+e.baseImpactScore+")":""," "),o.a.createElement("td",null,"  "),o.a.createElement("td",{style:{color:"#"+e.likelihood.colour}},"  ",e.likelihood.name?e.likelihood.name+" ("+e.likelihood.value+")":""," "),o.a.createElement("td",{style:{color:"#"+e.impact.colour}},"  ",e.impact.name?e.impact.name+" ("+e.baseImpactScore+")":""," "),o.a.createElement("td",{style:{backgroundColor:"#"+e.colour}}," ",e.rating," "),o.a.createElement("td",null,"  "))})))))}}])&&Dc(n.prototype,a),i&&Dc(n,i),t}();function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qc(e,t,n[t])})}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=qc({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      RiskResultData\n    }\n    LikelihoodRatings\n    RiskAssessmentTaskSubmission\n    CVATaskData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=E()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return c=u.QuestionnaireSubmission.RiskResultData,u.RiskAssessmentTaskSubmission&&(c=u.RiskAssessmentTaskSubmission),s=u.CVATaskData,l={id:T()(E()(u,"ID","")),uuid:T()(E()(u,"UUID","")),taskName:T()(E()(u,"TaskName","")),taskType:T()(E()(u,"TaskType","")),status:T()(E()(u,"Status","")),submitter:un.parseUserFromJSON(E()(u,"Submitter")),questionnaireSubmissionUUID:T()(E()(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(E()(u,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(E()(u,"QuestionnaireSubmission.QuestionnaireStatus","")),likelihoodRatings:W.parseLikelihoodJSONObject(E()(u,"LikelihoodRatings")),riskResults:JSON.parse(c),selectedComponents:JSON.parse(s)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Mc(a,r,o,i,u,"next",e)}function u(e){Mc(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&Bc(t.prototype,n),r&&Bc(t,r),e}();function Vc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hc(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fc.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 3:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT,payload:o},e.next=7,t(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Vc(a,r,o,i,u,"next",e)}function u(e){Vc(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function Jc(e){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wc(e,t,n[t])})}return e}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return!t||"object"!==Jc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xc(e,t){return(Xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gc(this,Zc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Yc({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Yc({},this.props),t=e.siteTitle,n=e.currentUser,r=e.securityRiskAssessmentData,a=e.secureToken;if(!n||!t||!r)return null;var i=o.a.createElement(kr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){x.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(Hn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},o.a.createElement(Lc,{riskResults:r.riskResults,likelihoodThresholds:r.likelihoodRatings}),o.a.createElement(jc,{likelihoodThresholds:r.likelihoodRatings}),o.a.createElement("div",{className:"buttons"},i)),o.a.createElement(kt,null))}}])&&zc(n.prototype,a),i&&zc(n,i),t}(),es=Object(s.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(li()),e(yi()),e(Kc({uuid:t,secureToken:n}))}}})($c);function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ns(e,t,n[t])})}return e}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function os(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){rs(a,r,o,i,u,"next",e)}function u(e){rs(a,r,o,i,u,"throw",e)}i(void 0)})}}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var is=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=os(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ts({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=E()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw DEFAULT_NETWORK_ERROR;case 8:return c=JSON.parse(E()(u,"CVATaskData","[]")),Array.isArray(c)||(c=[]),s=c.length>0?gn.parseCVAFromJSONObject(c):c,l={id:T()(E()(u,"ID","")),uuid:T()(E()(u,"UUID","")),questionnaireSubmissionUUID:T()(E()(u,"QuestionnaireSubmission.UUID","")),taskName:T()(E()(u,"TaskName","")),selectedComponents:s,submitterID:T()(E()(u,"Submitter.ID","")),productAspects:_.has(u,"ProductAspects")?JSON.parse(E()(u,"ProductAspects",[])):[]},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=os(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ts({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(JSON.stringify(o)),u='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,Q.request({query:u,csrfToken:a});case 5:if(c=e.sent,_.get(c,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw DEFAULT_NETWORK_ERROR;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&as(t.prototype,n),r&&as(t,r),e}();function us(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function cs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){us(a,r,o,i,u,"next",e)}function u(e){us(a,r,o,i,u,"throw",e)}i(void 0)})}}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ss(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=cs(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT,payload:null});case 3:return e.next=5,is.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT,payload:o},e.next=9,t(a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),$.displayError(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()}function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ms(e,t,n[t])})}return e}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t){return!t||"object"!==fs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hs(e,t){return(hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vs(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ss(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){vs(a,r,o,i,u,"next",e)}function u(e){vs(a,r,o,i,u,"throw",e)}i(void 0)})}}var Os=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ys(this,ds(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Ss(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=ps({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.contolValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map(function(t){return e.renderComponentControls(t)})):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map(function(e,r){return o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),t.map(function(t){return(t.productAspect===e||""===t.productAspect)&&n.renderComponentControls(t)}))}))}},{key:"renderComponentControls",value:function(e){var t=this,n=e.controls,r=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,a=["Yes","No","N/A"];return void 0===n||0===n.length?o.a.createElement("div",{key:r},o.a.createElement("h5",null,e.name),o.a.createElement("div",{className:"alert alert-info",key:r},"There are no controls for the component.")):o.a.createElement("div",{key:r},o.a.createElement("h5",null,e.name),n.map(function(n){var r=e.productAspect?"".concat(e.productAspect,"_").concat(e.id,"_").concat(n.id):"".concat(e.id,"_").concat(n.id);return o.a.createElement("div",{className:"my-0",key:r},a.map(function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(r,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(r,"_").concat(i),name:r,value:a,defaultChecked:n.selectedOption===a,onClick:function(){return t.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a,controlID:n.id,componentID:e.id,productAspect:e.productAspect})}}),a)}),o.a.createElement("label",{className:"ml-2",key:n.id},o.a.createElement("strong",null,n.name)))}))}},{key:"render",value:function(){var e=ps({},this.props),t=e.siteTitle,n=e.currentUser,r=e.contolValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,u=e.cvaSelectedComponents;if(!n||!t||!r)return null;var c=r.submitterID===n.id&&u.length>0?o.a.createElement(Xt,{title:"SUBMIT",classes:["mr-3"],onClick:function(){return i(r.uuid,u,r.questionnaireSubmissionUUID,a)}}):null,s=o.a.createElement(kr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){x.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}});return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(Hn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"",key:"component_validation_questions"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),this.renderCVAQuestionsForm()),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},c,s)),o.a.createElement(kt,null))}}])&&bs(n.prototype,a),i&&bs(n,i),t}(),gs=Object(s.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,contolValidationAuditData:e.controlValidationAuditState.contolValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents}},function(e,t){return{dispatchLoadDataAction:(n=Ss(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(ls({uuid:n,secureToken:r})),e(li()),e(yi())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o){e(function(e,t,n,r){return o=cs(regeneratorRuntime.mark(function o(a){var i,u,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Ee.getCSRFToken();case 3:return i=o.sent,o.next=6,is.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:i});case 6:return u=o.sent,c={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:u},o.next=10,a(c);case 10:x.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),$.displayError(o.t0);case 16:case"end":return o.stop()}},o,this,[[0,13]])})),function(e){return o.apply(this,arguments)};var o}(t,n,r,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=cs(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))}};var n})(Os),ws=n(37);function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return!t||"object"!==Es(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e,t){return(_s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var js=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ts(this,As(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_s(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(c.a,{exact:!0,path:"/"},function(){return o.a.createElement(Dt,null)}),o.a.createElement(c.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement($n,{questionnaireID:t.params.id}))}),o.a.createElement(c.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement($r,{submissionHash:t.params.hash}))}),o.a.createElement(c.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Wo,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(wa,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ki,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Di,{taskId:t.params.taskId}))}),o.a.createElement(c.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).componentTarget);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ru,{taskId:t.params.taskId,componentTarget:r}))}),o.a.createElement(c.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Hu,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gs,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(ws.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(es,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/MySubmissions"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ec,null))}),o.a.createElement(c.a,{path:"/AwaitingApprovals"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(fc,null))}),o.a.createElement(c.a,{path:"/MyProducts"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gc,null))}))))}}])&&ks(n.prototype,a),i&&ks(n,i),t}(),Cs=n(654),Ps=n(13),Is=(n(614),{title:"",subtitle:"",pillars:[],tasks:[]});function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ds(e,t,n[t])})}return e}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xs={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Rs={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var Us=Object(Ps.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var o=Ns({},e);return N.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=Ns({},t).targetIndex,u=a.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=a.questions.length)return e;var c=Ns({},e);return N.a.set(c,"submission.questions.".concat(u,".isCurrent"),!1),N.a.set(c,"submission.questions.".concat(i,".isCurrent"),!0),c}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var s=e.submission;if(!s)return e;var f=Ns({},e),p=t.nonApplicableIndexes;return p&&p.length>0&&p.forEach(function(e){var t=s.questions[e];t.isApplicable=!1,N.a.set(f,"submission.questions.".concat(e),t)}),f}return e}}),Ls=n(77),qs=n.n(Ls),Qs=n(46),Ms=n.n(Qs);function Bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fs={taskSubmission:null};function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hs={user:null};function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Js={siteTitle:""};var Ys=n(366),Ws=n.n(Ys);function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gs(e,t,n[t])})}return e}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zs={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Xs=Vi.isComponentExist,$s=Vi.isSelectedComponentExist;function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tl(e,t,n[t])})}return e}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl={awaitingApprovalList:[],mySubmissionList:[],myProductList:[]};var rl={securityRiskAssessmentData:null};function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){al(e,t,n[t])})}return e}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var il={contolValidationAuditData:null,cvaSelectedComponents:[]};Vi.isSelectedComponentExist;var ul=Object(Ps.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Is,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:Us,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fs,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex(function(e){return e.id===r.id});if(o<0)return e;var a=qs()(e);return Ms()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=qs()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Ms()(i,"taskSubmission.questions.".concat(e),t)}),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bs(e,t,n[t])})}return e}({},t.payload),s=c.currentIndex,f=c.targetIndex;if(f<0||f>=n.questions.length)return e;var p=qs()(e);return Ms()(p,"taskSubmission.questions.".concat(s,".isCurrent"),!1),Ms()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=qs()(e);return Ms()(m,"taskSubmission.status","complete"),t.payload&&Ms()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var b=qs()(e);return Ms()(b,"taskSubmission.status","in_progress"),Ms()(b,"taskSubmission.result",null),b}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vs(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Js,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.SET_SITE_TITLE:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ks(e,t,n[t])})}return e}({},e,{siteTitle:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return zs({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,o=n.payload.productAspect;if(!$s(r,o,e.selectedComponents)&&Xs(r,e.availableComponents)){var a=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},a[0]);return i.productAspect=o,zs({},e,{selectedComponents:Ws()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,c=u.payload.id,s=u.payload.productAspect;if($s(c,s,e.selectedComponents)&&Xs(c,e.availableComponents))return zs({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==c||e.productAspect!==s})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?zs({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?zs({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?zs({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nl,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST?el({},e,{awaitingApprovalList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST?el({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST?el({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT?{securityRiskAssessmentData:t.payload}:e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),ol({},e,{contolValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,u=t.payload.componentID,c=Object(I.cloneDeep)(e.cvaSelectedComponents),s=[];if((s=""!==a?c.filter(function(e){return e.id==u&&e.productAspect==a}):c.filter(function(e){return e.id==u})).length>0){var f=s[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=o,ol({},e,{cvaSelectedComponents:c})}}return e}}),cl=n(367),sl=[f.a];var ll=Object(Ps.createStore)(ul,Object(cl.composeWithDevTools)(Ps.applyMiddleware.apply(void 0,sl)));function fl(e){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return!t||"object"!==fl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hl(e,t,n[t])})}return e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ml(this,bl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,dl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=dl({},this.props),t=e.siteTitle,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Hn,{title:n.taskName,subtitle:t,showLogoutButton:!1}),o.a.createElement(ai,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status,siteTitle:t}),o.a.createElement(kt,null)):null}}])&&pl(n.prototype,a),i&&pl(n,i),t}(),Sl=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle}},function(e,t){return{dispatchLoadDataAction:function(){var n=dl({},t),r=n.uuid,o=n.secureToken;e(yi()),e(Ha({uuid:r,secureToken:o}))},dispatchSaveAnsweredQuestionAction:function(n){var r=dl({},t).secureToken;e(Ka({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=dl({},t).secureToken;e(Wa({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=dl({},t).secureToken;e(za({secureToken:n}))}}})(vl);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return!t||"object"!==Ol(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kl(e,t){return(kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wl(this,El(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(ws.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Sl,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&gl(n.prototype,a),i&&gl(n,i),t}();window.addEventListener("load",function(){ma.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(Cs.a,null,o.a.createElement(s.a,{store:ll},o.a.createElement(js,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(Cs.a,null,o.a.createElement(s.a,{store:ll},o.a.createElement(Tl,null))),t)})},74:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},76:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"}});
//# sourceMappingURL=main.bundle.js.map