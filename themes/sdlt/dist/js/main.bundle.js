!function(e){function t(t){for(var r,o,a=t[0],i=t[1],u=t[2],s=0,c=[];s<a.length;s++)o=a[s],P[o]&&c.push(P[o][0]),P[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(R&&R(t);c.length;)c.shift()();return I.push.apply(I,u||[]),n()}function n(){for(var e,t=0;t<I.length;t++){for(var n=I[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==P[a]&&(r=!1)}r&&(I.splice(t--,1),e=N(N.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!w[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--h&&0===S&&j()}(e,t),r&&r(e,t)};var o,a=!0,i="4d5f3dab4092b00b1a31",u=1e4,s={},c=[],l=[];function f(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:k,apply:A,status:function(e){if(!e)return m;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:s[e]};return o=void 0,t}var p=[],m="idle";function b(e){m=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var y,d,v,h=0,S=0,g={},O={},w={};function E(e){return+e+""===e?+e:e}function k(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return a=e,b("check"),(t=u,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=N.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return b("idle"),null;O={},g={},w=e.c,v=e.h,b("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});for(var n in d={},P)T(n);return"prepare"===m&&0===S&&0===h&&j(),t});var t}function T(e){var t;w[e]?(O[e]=!0,h++,(t=document.createElement("script")).charset="utf-8",t.src=N.p+"hot/hot-update.js",document.head.appendChild(t)):g[e]=!0}function j(){b("ready");var e=y;if(y=null,e)if(a)Promise.resolve().then(function(){return A(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&t.push(E(n));e.resolve(t)}}function A(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,o,a,u;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,u=o.chain;if((a=_[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var s=0;s<a.parents.length;s++){var c=a.parents[s],l=_[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),f(n[c],[i])):(delete n[c],t.push(c),r.push({chain:u.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},y=[],h={},S=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)){var O;u=E(g);var k=!1,T=!1,j=!1,A="";switch((O=d[g]?l(u):{type:"disposed",moduleId:g}).chain&&(A="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+O.moduleId+A));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+A));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(k=new Error("Aborted because "+u+" is not accepted"+A));break;case"accepted":t.onAccepted&&t.onAccepted(O),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),j=!0;break;default:throw new Error("Unexception type "+O.type)}if(k)return b("abort"),Promise.reject(k);if(T)for(u in h[u]=d[u],f(y,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,u)&&(p[u]||(p[u]=[]),f(p[u],O.outdatedDependencies[u]));j&&(f(y,[O.moduleId]),h[u]=S)}var I,C=[];for(r=0;r<y.length;r++)u=y[r],_[u]&&_[u].hot._selfAccepted&&C.push({module:u,errorHandler:_[u].hot._selfAccepted});b("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete P[e]}(e)});for(var D,x,R=y.slice();R.length>0;)if(u=R.pop(),a=_[u]){var U={},Q=a.hot._disposeHandlers;for(o=0;o<Q.length;o++)(n=Q[o])(U);for(s[u]=U,a.hot.active=!1,delete _[u],delete p[u],o=0;o<a.children.length;o++){var q=_[a.children[o]];q&&((I=q.parents.indexOf(u))>=0&&q.parents.splice(I,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=_[u]))for(x=p[u],o=0;o<x.length;o++)D=x[o],(I=a.children.indexOf(D))>=0&&a.children.splice(I,1);for(u in b("apply"),i=v,h)Object.prototype.hasOwnProperty.call(h,u)&&(e[u]=h[u]);var M=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=_[u])){x=p[u];var L=[];for(r=0;r<x.length;r++)if(D=x[r],n=a.hot._acceptedDependencies[D]){if(-1!==L.indexOf(n))continue;L.push(n)}for(r=0;r<L.length;r++){n=L[r];try{n(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:x[r],error:e}),t.ignoreErrored||M||(M=e)}}}for(r=0;r<C.length;r++){var B=C[r];u=B.module,c=[u];try{N(u)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||M||(M=n),M||(M=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||M||(M=e)}}return M?(b("fail"),Promise.reject(M)):(b("idle"),new Promise(function(e){e(y)}))}var _={},P={2:0},I=[];function N(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:f(t),parents:(l=c,c=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return N;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(c=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),N(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return N[e]},set:function(t){N[e]=t}}};for(var a in N)Object.prototype.hasOwnProperty.call(N,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===m&&b("prepare"),S++,N.e(e).then(t,function(e){throw t(),e});function t(){S--,"prepare"===m&&(g[e]||T(e),0===S&&0===h&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),N.t(e,-2&t)},n}(t)),n.l=!0,n.exports}N.m=e,N.c=_,N.d=function(e,t,n){N.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},N.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},N.t=function(e,t){if(1&t&&(e=N(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(N.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)N.d(n,r,function(t){return e[t]}.bind(null,r));return n},N.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return N.d(t,"a",t),t},N.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},N.p="/resources/themes/sdlt/dist/img/",N.h=function(){return i};var C=window.webpackJsonp=window.webpackJsonp||[],D=C.push.bind(C);C.push=t,C=C.slice();for(var x=0;x<C.length;x++)t(C[x]);var R=D;I.push([369,0]),n()}({346:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},347:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},348:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},349:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},351:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},352:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},353:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},354:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},361:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},362:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},369:function(e,t,n){n(158),e.exports=n(649)},50:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"},594:function(e,t,n){var r={"./af":210,"./af.js":210,"./ar":211,"./ar-dz":212,"./ar-dz.js":212,"./ar-kw":213,"./ar-kw.js":213,"./ar-ly":214,"./ar-ly.js":214,"./ar-ma":215,"./ar-ma.js":215,"./ar-sa":216,"./ar-sa.js":216,"./ar-tn":217,"./ar-tn.js":217,"./ar.js":211,"./az":218,"./az.js":218,"./be":219,"./be.js":219,"./bg":220,"./bg.js":220,"./bm":221,"./bm.js":221,"./bn":222,"./bn.js":222,"./bo":223,"./bo.js":223,"./br":224,"./br.js":224,"./bs":225,"./bs.js":225,"./ca":226,"./ca.js":226,"./cs":227,"./cs.js":227,"./cv":228,"./cv.js":228,"./cy":229,"./cy.js":229,"./da":230,"./da.js":230,"./de":231,"./de-at":232,"./de-at.js":232,"./de-ch":233,"./de-ch.js":233,"./de.js":231,"./dv":234,"./dv.js":234,"./el":235,"./el.js":235,"./en-SG":236,"./en-SG.js":236,"./en-au":237,"./en-au.js":237,"./en-ca":238,"./en-ca.js":238,"./en-gb":239,"./en-gb.js":239,"./en-ie":240,"./en-ie.js":240,"./en-il":241,"./en-il.js":241,"./en-nz":242,"./en-nz.js":242,"./eo":243,"./eo.js":243,"./es":244,"./es-do":245,"./es-do.js":245,"./es-us":246,"./es-us.js":246,"./es.js":244,"./et":247,"./et.js":247,"./eu":248,"./eu.js":248,"./fa":249,"./fa.js":249,"./fi":250,"./fi.js":250,"./fo":251,"./fo.js":251,"./fr":252,"./fr-ca":253,"./fr-ca.js":253,"./fr-ch":254,"./fr-ch.js":254,"./fr.js":252,"./fy":255,"./fy.js":255,"./ga":256,"./ga.js":256,"./gd":257,"./gd.js":257,"./gl":258,"./gl.js":258,"./gom-latn":259,"./gom-latn.js":259,"./gu":260,"./gu.js":260,"./he":261,"./he.js":261,"./hi":262,"./hi.js":262,"./hr":263,"./hr.js":263,"./hu":264,"./hu.js":264,"./hy-am":265,"./hy-am.js":265,"./id":266,"./id.js":266,"./is":267,"./is.js":267,"./it":268,"./it-ch":269,"./it-ch.js":269,"./it.js":268,"./ja":270,"./ja.js":270,"./jv":271,"./jv.js":271,"./ka":272,"./ka.js":272,"./kk":273,"./kk.js":273,"./km":274,"./km.js":274,"./kn":275,"./kn.js":275,"./ko":276,"./ko.js":276,"./ku":277,"./ku.js":277,"./ky":278,"./ky.js":278,"./lb":279,"./lb.js":279,"./lo":280,"./lo.js":280,"./lt":281,"./lt.js":281,"./lv":282,"./lv.js":282,"./me":283,"./me.js":283,"./mi":284,"./mi.js":284,"./mk":285,"./mk.js":285,"./ml":286,"./ml.js":286,"./mn":287,"./mn.js":287,"./mr":288,"./mr.js":288,"./ms":289,"./ms-my":290,"./ms-my.js":290,"./ms.js":289,"./mt":291,"./mt.js":291,"./my":292,"./my.js":292,"./nb":293,"./nb.js":293,"./ne":294,"./ne.js":294,"./nl":295,"./nl-be":296,"./nl-be.js":296,"./nl.js":295,"./nn":297,"./nn.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./tg":318,"./tg.js":318,"./th":319,"./th.js":319,"./tl-ph":320,"./tl-ph.js":320,"./tlh":321,"./tlh.js":321,"./tr":322,"./tr.js":322,"./tzl":323,"./tzl.js":323,"./tzm":324,"./tzm-latn":325,"./tzm-latn.js":325,"./tzm.js":324,"./ug-cn":326,"./ug-cn.js":326,"./uk":327,"./uk.js":327,"./ur":328,"./ur.js":328,"./uz":329,"./uz-latn":330,"./uz-latn.js":330,"./uz.js":329,"./vi":331,"./vi.js":331,"./x-pseudo":332,"./x-pseudo.js":332,"./yo":333,"./yo.js":333,"./zh-cn":334,"./zh-cn.js":334,"./zh-hk":335,"./zh-hk.js":335,"./zh-tw":336,"./zh-tw.js":336};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=594},649:function(e,t,n){"use strict";n.r(t);n(370),n(372),n(373),n(376),n(377),n(378),n(118),n(381),n(382),n(384),n(385),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(418),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(443),n(444),n(445),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(177),n(459),n(461),n(462),n(463),n(464),n(465),n(466),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507);var r=n(0),o=n.n(r),a=n(51),i=n.n(a),u=n(655),s=n(654),c=n(8),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE:"LOAD_QUESTIONNAIRE_SUBMISSION_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST",FETCH_AWAITING_APPROVAL_LIST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST",FETCH_MY_PRODUCT_LIST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER"},SITE_CONFIG:{SET_SITE_TITLE:"ACTION_SITE_CONFIG_SET_SITE_TITLE"}},f=n(49),p=n(346),m=n.n(p),b=n(347),y=n.n(b),d=n(348),v=n.n(d),h=n(349),S=n.n(h),g=n(5),O=n.n(g),w=n(6),E=n.n(w),k=n(350),T=n.n(k),j=n(104),A=n.n(j),P=n(2),I=n.n(P);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){window.location.href="/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/businessOwnerApproval/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/businessOwnerApproval/#/task/submission/".concat(e,"?token=").concat(t):"/#/task/submission/".concat(e)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/businessOwnerApproval/#/component-selection/submission/".concat(e,"?token=").concat(t):"/#/component-selection/submission/".concat(e)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&N(t.prototype,n),r&&N(t,r),e}();function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=D({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),u={query:T()(r),variables:o},e.next=6,A.a.request({url:"/graphql",method:"post",data:u,headers:i});case 6:if(s=e.sent,c=s.data,!(l=I.a.get(c,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){R(a,r,o,i,u,"next",e)}function u(e){R(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&U(t.prototype,n),r&&U(t,r),e}(),q=new Error("There is an error when fetching data..."),M=new Error("There is an error when parsing data...");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw M;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&I.a.keys(t).forEach(function(e){n[I.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return I.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(I.a.get(r,"isCurrent",!1))&&(t=n)}),t}(a);return o.map(function(e,t){var n=I.a.toString(I.a.get(e,"ID","")),r=Boolean(I.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(I.a.get(a,"".concat(n,".isApplicable"),!0)),u=!1;u=i?i===n:0===t;var s=null,c=null,l=r?I.a.get(a,"".concat(n,".inputs"),[]):[],f=r?I.a.get(a,"".concat(n,".actions"),[]):[],p=I.a.get(e,"AnswerInputFields",[]),m=I.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(s=p.map(function(e){var t=I.a.toString(I.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","date","url","radio","checkbox"].includes(t)||(t="text");var n=I.a.toString(I.a.get(e,"ID","")),r={id:n,label:I.a.toString(I.a.get(e,"Label","")),type:t,required:Boolean(I.a.toInteger(I.a.get(e,"Required",!1))),minLength:Number.parseInt(I.a.toString(I.a.get(e,"MinLength",0))),maxLength:Number.parseInt(I.a.toString(I.a.get(e,"MaxLength",0))),placeholder:I.a.toString(I.a.get(e,"PlaceHolder","")),options:I.a.has(e,"MultiChoiceAnswer")?JSON.parse(I.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:I.a.has(e,"MultiChoiceSingleAnswerDefault")?I.a.toString(I.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:I.a.has(e,"MultiChoiceMultipleAnswerDefault")?I.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=I.a.head(l.filter(function(e){return e.id===n}));if(o){var a=I.a.toString(I.a.get(o,"data",null));a&&(r.data=a)}}return r})),m&&Array.isArray(m)&&m.length>0&&(c=m.map(function(e){var t=I.a.toString(I.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=I.a.toString(I.a.get(e,"ID","")),r={id:n,label:I.a.toString(I.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=I.a.toString(I.a.get(e,"Message",""))),"goto"===t&&(r.goto=I.a.toString(I.a.get(e,"GotoID",""))),"finish"===t&&(r.result=I.a.toString(I.a.get(e,"Result","")));var o=I.a.toString(I.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=I.a.head(f.filter(function(e){return e.id===n}));if(a){var i=Boolean(I.a.get(a,"isChose",!1));r.isChose=i}}return r}));var b={id:n,title:I.a.toString(I.a.get(e,"Title","")),heading:I.a.toString(I.a.get(e,"Question","")),description:I.a.toString(I.a.get(e,"Description","")),type:"input"===I.a.toString(I.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:u,hasAnswer:r,isApplicable:o};return s&&(b.inputs=s),c&&(b.actions=c),b})}}],(n=null)&&B(t.prototype,n),r&&B(t,r),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=E()(O()(e,"ID","")),n=E()(O()(e,"Name","")),r=E()(O()(e,"TaskType",""));switch(r){case"questionnaire":case"selection":break;default:r="questionnaire"}var o=[],a=E()(O()(e,"QuestionsDataJSON",""));return a&&(o=F.parseQuestionsFromJSON({schemaJSON:a,answersJSON:"{}"})),{id:t,name:n,type:r,questions:o}}}],(n=null)&&H(t.prototype,n),r&&H(t,r),e}();function K(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw q;case 7:return r=n[0],o=E()(O()(r,"Title","")),a=E()(O()(r,"Subtitle","")),i=O()(r,"Pillars",[]),u=this.parsePillars(i),s=O()(r,"Tasks",[]),c=this.parseTasks(s),e.abrupt("return",{title:o,subtitle:a,pillars:u,tasks:c});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){K(a,r,o,i,u,"next",e)}function u(e){K(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t="";switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=y.a;break;case"product_project_or_solution":t=v.a;break;case"feature_or_bug_fix":t=S.a}return{title:E()(O()(e,"Label","")),disabled:Boolean(O()(e,"Disabled",!0)),questionnaireID:E()(O()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=J.parseFromJSONObject(e);t.push(n)}),t}}],n&&W(t.prototype,n),r&&W(t,r),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}();function G(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function X(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),z.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){G(a,r,o,i,u,"next",e)}function u(e){G(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var Z=n(82),$=n.n(Z),ee=n(652);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,ae(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ne(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ee.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&re(n.prototype,a),i&&re(n,i),t}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,pe(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=["TaskButton"].concat(ce(this.props.classes));return o.a.createElement(ee.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&le(n.prototype,a),i&&le(n,i),t}(),ye=n(351),de=n.n(ye);function ve(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=I.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ve(a,r,o,i,u,"next",e)}function u(e){ve(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&he(t.prototype,n),r&&he(t,r),e}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,Te(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){we(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:de.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Oe(a,r,o,i,u,"next",e)}function u(e){Oe(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ee(n.prototype,a),i&&Ee(n,i),t}();Ae.defaultProps={classes:[]};var _e=Ae,Pe=n(72),Ie=n.n(Pe);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,Ue(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ie.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ce(a,r,o,i,u,"next",e)}function u(e){Ce(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&xe(n.prototype,a),i&&xe(n,i),t}();qe.defaultProps={classes:[]};var Me=qe,Le=n(352),Be=n.n(Le);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,Ye(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Je(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Be.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){He(a,r,o,i,u,"next",e)}function u(e){He(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ke(n.prototype,a),i&&Ke(n,i),t}();ze.defaultProps={classes:[]};var Ge=ze,Xe=n(353),Ze=n.n(Xe);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,ot(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tt(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ze.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){et(a,r,o,i,u,"next",e)}function u(e){et(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&nt(n.prototype,a),i&&nt(n,i),t}();it.defaultProps={classes:[]};var ut=it;function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,pt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ct(e,t,n[t])})}return e}({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks;return o.a.createElement("div",{className:"Home"},o.a.createElement(_e,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(Me,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(Ge,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(ut,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:$.a,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map(function(e,t){return o.a.createElement(ue,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:t})}))),o.a.createElement("div",{className:"tasks"},a.map(function(e){var t="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(t="/component-selection/standalone"),o.a.createElement(be,{link:t,classes:["mx-1"],title:e.name})}))))}}])&&lt(n.prototype,a),i&&lt(n,i),t}();function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vt(this,ht(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,"© 2019 | NZ Transport Agency"))}}])&&dt(n.prototype,a),i&&dt(n,i),t}(),Ot=n(354),wt=n.n(Ot);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,jt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){return this.props.homeState?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(wt.a,'")'),backgroundSize:"cover"}},o.a.createElement(bt,{homeState:this.props.homeState}),o.a.createElement(gt,null)):null}}])&&kt(n.prototype,a),i&&kt(n,i),t}(),Pt=Object(c.b)(function(e){return{homeState:e.homeState}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(X())}}})(_t),It=n(31),Nt=n.n(It);function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rt(this,Ut(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,u=null;return i&&(u=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:Nt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t)}}])&&xt(n.prototype,a),i&&xt(n,i),t}();qt.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Mt=qt;function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jt(this,Kt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(Mt,Bt({},this.props,{classes:["LightButton"].concat(Ft(this.props.classes))}))}}])&&Ht(n.prototype,a),i&&Ht(n,i),t}();Yt.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Vt=Yt;function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var en=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Zt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Vt,{title:"START",onClick:r})))))}}])&&Gt(n.prototype,a),i&&Gt(n,i),t}();function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=O()(t,"FirstName")?E()(O()(t,"FirstName",""))+" "+E()(O()(t,"Surname","")):"";return{id:E()(O()(t,"ID")),name:n,email:O()(t,"Email"),isSA:"true"===E()(O()(t,"IsSA")),isCISO:"true"===E()(O()(t,"IsCISO"))}}}],(n=null)&&tn(t.prototype,n),r&&tn(t,r),e}();function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){on(e,t,n[t])})}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function un(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){an(a,r,o,i,u,"next",e)}function u(e){an(a,r,o,i,u,"throw",e)}i(void 0)})}}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=I.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw q;case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ".concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n  }\n}\n"),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=I.a.get(r,"data.readCurrentMember.0",null),a=I.a.get(r,"data.readQuestionnaire",null),i=I.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw q;case 9:return e.abrupt("return",{title:I.a.get(a,"Name",""),subtitle:I.a.get(i,"Title",""),questionnaireID:I.a.get(a,"ID",""),keyInformation:I.a.get(a,"KeyInformation",""),user:nn.parseUserFromJSON(o)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    GQRiskResult,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n  }\n  readSiteConfig {\n    Title\n  }\n}'),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=I.a.get(r,"data.readCurrentMember.0",{}),a=I.a.get(r,"data.readQuestionnaireSubmission.0",{}),o&&a){e.next=8;break}throw q;case 8:return i={title:I.a.toString(I.a.get(a,"Questionnaire.Name","")),siteTitle:I.a.toString(I.a.get(r,"data.readSiteConfig.0.Title","")),user:nn.parseUserFromJSON(o),isCurrentUserApprover:"true"===I.a.get(a,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===I.a.get(a,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(I.a.get(a,"ApprovalOverrideBySecurityArchitect",!1)),questionnaireID:I.a.toString(I.a.get(a,"Questionnaire.ID","")),questionnaireTitle:I.a.toString(I.a.get(a,"Questionnaire.Name","")),submissionID:I.a.toString(I.a.get(a,"ID","")),submissionUUID:I.a.toString(I.a.get(a,"UUID","")),submissionToken:I.a.toString(I.a.get(a,"ApprovalLinkToken","")),productName:I.a.toString(I.a.get(a,"ProductName","")),submitter:{id:I.a.toString(I.a.get(a,"User.ID")),name:I.a.toString(I.a.get(a,"SubmitterName","")),email:I.a.toString(I.a.get(a,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:I.a.toString(I.a.get(a,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:I.a.toString(I.a.get(a,"CisoApprovalStatus","")),businessOwner:I.a.toString(I.a.get(a,"BusinessOwnerApprovalStatus","")),securityArchitect:I.a.toString(I.a.get(a,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{FirstName:I.a.toString(I.a.get(a,"SecurityArchitectApprover.FirstName","")),Surname:I.a.toString(I.a.get(a,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:I.a.toString(I.a.get(a,"CisoApprover.FirstName","")),Surname:I.a.toString(I.a.get(a,"CisoApprover.Surname",""))},questions:F.parseQuestionsFromJSON({schemaJSON:I.a.toString(I.a.get(a,"QuestionnaireData","")),answersJSON:I.a.toString(I.a.get(a,"AnswerData",""))}),businessOwnerApproverName:I.a.toString(I.a.get(a,"BusinessOwnerApproverName","")),taskSubmissions:I.a.toArray(I.a.get(a,"TaskSubmissions",[])).map(function(e){return{uuid:I.a.toString(I.a.get(e,"UUID","")),taskName:I.a.toString(I.a.get(e,"TaskName","")),taskType:I.a.toString(I.a.get(e,"TaskType","")),status:I.a.toString(I.a.get(e,"Status","")),approver:nn.parseUserFromJSON(I.a.get(e,"TaskApprover"))}}),riskResults:I.a.has(a,"GQRiskResult")?JSON.parse(I.a.get(a,"GQRiskResult","")):""}},e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,u=window.btoa(JSON.stringify(a)),s='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(u,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,Q.request({query:s,csrfToken:i});case 5:if(c=e.sent,I.a.get(c,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw q;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,f,p,m,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=rn({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw q;case 3:for(u=[],s=0;s<o.length;s++)c=o[s],l=a[s],f=window.btoa(JSON.stringify(l)),p="\nupdateQuestion".concat(c,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(c,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),u.push(p);return m="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,Q.request({query:m,csrfToken:i});case 8:if(b=e.sent,I.a.get(b,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),s=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),s=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),s=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=I.a.toString(I.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),c=I.a.toString(I.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),s&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=I.a.toString(I.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),c=I.a.toString(I.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),s&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=un(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=rn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),s=I.a.toString(I.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),u&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=un(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          ID\n        }\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=I.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=I.a.get(e,"ID",""),t.uuid=I.a.get(e,"UUID",""),t.status=I.a.get(e,"QuestionnaireStatus",""),t.productName=I.a.get(e,"ProductName",""),t.questionnaireName=I.a.get(e,"QuestionnaireName",""),t.created=I.a.get(e,"Created",""),t.businessOwner=I.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=I.a.get(e,"SubmitterName",""),t.SecurityArchitectApproverID=I.a.get(e,"SecurityArchitectApprover.ID",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&sn(t.prototype,n),r&&sn(t,r),e}();function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fn(e,t,n[t])})}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&I.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=ln({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=ln({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex(function(e){return e.id===n.id}),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var u=n.actions.find(function(e){return e.isChose});if(!u)throw new Error("This question does not have any chosen action!");if("finish"===u.type){for(var s=i.currentIndex+1;s<r.length;s++)i.nonApplicableIndexes.push(s);i.result=u.result||"",i.complete=!0}if("message"===u.type&&(i.terminate=!0),"continue"!==u.type||a||(i.targetIndex=i.currentIndex+1),"goto"===u.type){var c=u.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===c}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&pn(t.prototype,n),r&&pn(t,r),e}(),bn=n(152),yn=n.n(bn),dn=n(83),vn=n.n(dn);function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return vn()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:E()(O()(e,"ID")),name:E()(O()(e,"Name")),description:E()(O()(e,"Description"))}}}],(n=null)&&hn(t.prototype,n),r&&hn(t,r),e}();function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var On=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return vn()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:E()(O()(e,"ID")),jiraKey:E()(O()(e,"JiraKey")),link:E()(O()(e,"TicketLink"))}}}],(n=null)&&gn(t.prototype,n),r&&gn(t,r),e}();function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){En(e,t,n[t])})}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Tn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){kn(a,r,o,i,u,"next",e)}function u(e){kn(a,r,o,i,u,"throw",e)}i(void 0)})}}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var An=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      Name\n      Description\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return s={id:E()(O()(u,"ID","")),uuid:E()(O()(u,"UUID","")),taskName:E()(O()(u,"TaskName","")),taskType:E()(O()(u,"TaskType","")),status:E()(O()(u,"Status","")),result:E()(O()(u,"Result","")),submitter:nn.parseUserFromJSON(O()(u,"Submitter")),lockWhenComplete:Boolean(O()(u,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:E()(O()(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:E()(O()(u,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:E()(O()(u,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:F.parseQuestionsFromJSON({schemaJSON:E()(O()(u,"QuestionnaireData","")),answersJSON:E()(O()(u,"AnswerData",""))}),selectedComponents:Sn.parseFromJSONOArray(O()(u,"SelectedComponents",[])),jiraTickets:On.parseFromJSONArray(O()(u,"JiraTickets",[])),isCurrentUserAnApprover:"true"===_.get(u,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===O()(u,"IsTaskApprovalRequired",!1),riskResults:_.has(u,"RiskResultData")?JSON.parse(_.get(u,"RiskResultData","")):""},e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,f,p,m,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wn({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,u=n.secureToken,o.length===a.length){e.next=3;break}throw q;case 3:for(s=[],c=0;c<o.length;c++)l=o[c],f=a[c],p=window.btoa(JSON.stringify(f)),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(u||"",'"\n) {\n  UUID\n  Status\n}'),s.push(m);return b="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,Q.request({query:b,csrfToken:i});case 8:if(y=e.sent,O()(y,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,u='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:a});case 4:if(s=e.sent,O()(s,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,O()(u,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,Q.request({query:o});case 4:if(a=e.sent,i=O()(a,"data.readTask",null)){e.next=8;break}throw q;case 8:return u=J.parseFromJSONObject(i),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.csrfToken,a=n.componentIDs,i=n.jiraKey,u='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n ComponentIDs: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:o});case 4:if(s=e.sent,O()(s,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&jn(t.prototype,n),r&&jn(t,r),e}();function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pn(e,t,n[t])})}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Nn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){In(a,r,o,i,u,"next",e)}function u(e){In(a,r,o,i,u,"throw",e)}i(void 0)})}}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSubmissionData",value:function(){var e=Nn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n({},t),r=n.uuid,o=n.secureToken,a=n.isBusinessOwnerSummaryPage,i='\nquery {\n  readQuestionnaireSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o,'", IsBusinessOwnerSummaryPage: "').concat(a,'") {\n    ID\n    UUID\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    GQRiskResult,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n  }\n  readSiteConfig {\n    Title\n  }\n}'),e.next=4,Q.request({query:i});case 4:if(u=e.sent,s=I.a.get(u,"data.readQuestionnaireSubmission.0",{})){e.next=8;break}throw q;case 8:return c={siteTitle:I.a.toString(I.a.get(u,"data.readSiteConfig.0.Title","")),submission:{questionnaireID:I.a.toString(I.a.get(s,"Questionnaire.ID","")),questionnaireTitle:I.a.toString(I.a.get(s,"Questionnaire.Name","")),submissionID:I.a.toString(I.a.get(s,"ID","")),submissionUUID:I.a.toString(I.a.get(s,"UUID","")),submitter:{id:I.a.toString(I.a.get(s,"User.ID")),name:I.a.toString(I.a.get(s,"SubmitterName","")),email:I.a.toString(I.a.get(s,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:I.a.toString(I.a.get(s,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),businessOwnerApproverName:I.a.toString(I.a.get(s,"BusinessOwnerApproverName","")),approvalStatus:{chiefInformationSecurityOfficer:I.a.toString(I.a.get(s,"CisoApprovalStatus","")),businessOwner:I.a.toString(I.a.get(s,"BusinessOwnerApprovalStatus","")),securityArchitect:I.a.toString(I.a.get(s,"SecurityArchitectApprovalStatus",""))},questions:F.parseQuestionsFromJSON({schemaJSON:I.a.toString(I.a.get(s,"QuestionnaireData","")),answersJSON:I.a.toString(I.a.get(s,"AnswerData",""))}),securityArchitectApprover:{FirstName:I.a.toString(I.a.get(s,"SecurityArchitectApprover.FirstName","")),Surname:I.a.toString(I.a.get(s,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:I.a.toString(I.a.get(s,"CisoApprover.FirstName","")),Surname:I.a.toString(I.a.get(s,"CisoApprover.Surname",""))},taskSubmissions:I.a.toArray(I.a.get(s,"TaskSubmissions",[])).map(function(e){return{uuid:I.a.toString(I.a.get(e,"UUID","")),taskName:I.a.toString(I.a.get(e,"TaskName","")),taskType:I.a.toString(I.a.get(e,"TaskType","")),status:I.a.toString(I.a.get(e,"Status","")),approver:nn.parseUserFromJSON(I.a.get(e,"TaskApprover"))}}),riskResults:I.a.has(s,"GQRiskResult")?JSON.parse(I.a.get(s,"GQRiskResult","")):""}},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=Nn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=I.a.toString(I.a.get(u,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),c=I.a.toString(I.a.get(u,"data.updateQuestionnaireStatusToApproved.UUID",null)),s&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=Nn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=I.a.toString(I.a.get(u,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),c=I.a.toString(I.a.get(u,"data.updateQuestionnaireStatusToDenied.UUID",null)),s&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Cn(t.prototype,n),r&&Cn(t,r),e}();function xn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Un(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Rn(a,r,o,i,u,"next",e)}function u(e){Rn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Qn(e){return function(){var t=Un(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,cn.fetchSubmissionData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}function qn(e){return function(){var t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i,u,s,c,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=mn.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),u=i.currentIndex,s=i.targetIndex,c=i.nonApplicableIndexes,f=i.complete,c.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:c}),s>u&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=9,Mn(r(),I.a.uniq([u].concat(xn(c),[s])));case 9:f&&C.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function Mn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Un(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Se.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,cn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return mn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,Kn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fn(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:$.a,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(_e,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Hn(n.prototype,a),i&&Hn(n,i),t}();Yn.defaultProps={title:"",subtitle:"",username:"",showLogoutButton:!0};var Vn=Yn;function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xn(e,t,n[t])})}return e}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$n(this,er(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Gn({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Gn({},this.props.startState),t=e.title,n=e.subtitle,r=e.keyInformation,a=e.user,i=Gn({},this.props),u=i.questionnaireID,s=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(Vn,{title:t,subtitle:n,username:a.name}),o.a.createElement(en,{keyInformation:r,user:a,onStartButtonClick:function(){s(u)}}),o.a.createElement(gt,null)):null}}])&&Zn(n.prototype,a),i&&Zn(n,i),t}(),rr=Object(c.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,cn.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return r=t.sent,t.next=6,cn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,C.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(nr),or=n(52);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ur(e,t,n[t])})}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(this,lr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=ir({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=ir({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:Ie.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&sr(n.prototype,a),i&&sr(n,i),t}();function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,vr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){br(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map(function(e,t){return o.a.createElement(pr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&yr(n.prototype,a),i&&yr(n,i),t}();function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kr(this,Tr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(Mt,Or({},this.props,{classes:["DarkButton"].concat(wr(this.props.classes))}))}}])&&Er(n.prototype,a),i&&Er(n,i),t}();Ar.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var _r=Ar,Pr=n(3),Ir=n.n(Pr),Nr=n(367);n(596);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rr(e,t,n[t])})}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qr(this,qr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=xr({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description"},t.description),this.renderActions(t),this.renderInputsForm(t))}},{key:"renderActions",value:function(e){var t=xr({},this.props).handleActionClick;if("action"===e.type){var n=I.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find(function(e){return e.isChose});return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return o.a.createElement(_r,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Vt,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r)}}},{key:"renderInputsForm",value:function(e){var t=xr({},this.props).handleFormSubmit;if("input"===e.type){var n=I.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach(function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)}),o.a.createElement(or.c,{initialValues:r,validate:function(e){var t={};return n.forEach(function(n){var r=xr({},n),o=r.id,a=r.type,i=r.required,u=r.label,s=r.minLength,c=I.a.get(e,o,null);if(i&&(!c||"[]"===c))return t[o]="- Please enter a value for ".concat(u),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(u)));s>0&&c&&c.length<s?t[o]="- Please enter a value with at least ".concat(s," characters for ").concat(u):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(c)?"date"===a&&(Ir()(c,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date")):t[o]="- Invalid email address"}),t},onSubmit:function(e,n){t(n,e)}},function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,u=[];return I.a.keys(t).filter(function(e){return Boolean(r[e])}).forEach(function(e){u[e]=t[e]}),o.a.createElement(or.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map(function(e){var t=xr({},e),n=t.id,r=t.type,s=t.label,c=t.placeholder,l=t.options,f=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),p=Boolean(I.a.get(u,n,null)),m=[];return p&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(or.a,{type:r,name:n,className:m.join(" "),placeholder:c,maxlength:f>0?f:4096}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=I.a.toString(e.value)===I.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("span",null,o.a.createElement(or.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),o.a.createElement("label",null,e.label)))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=i[n]?JSON.parse(i[n]):[],u=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("span",null,o.a.createElement("input",{type:"checkbox",name:n,className:"radio",checked:u,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),o.a.createElement("label",null,e.label)))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(or.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=Ir()(r).toDate()),o.a.createElement(Nr.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=Ir()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:c,dropdownMode:"scroll",withPortal:!0})}}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(or.a,{name:n},function(e){var t=e.field;return o.a.createElement("textarea",Dr({},t,{className:m.join(" "),placeholder:c}))}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null}),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(_r,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},u&&I.a.keys(u).length>0&&o.a.createElement("div",null,"Whoops!",I.a.keys(u).map(function(e){return o.a.createElement("div",{className:"text-error",key:e},u[e])})))))))})}}}])&&Ur(n.prototype,a),i&&Ur(n,i),t}();function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hr(e,t,n[t])})}return e}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,Wr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleFormSubmit",value:function(e,t){var n=Fr({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find(function(e){return!0===e.isCurrent});if(a){var i=Fr({},a);I.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&I.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=Fr({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find(function(e){return!0===e.isCurrent});if(o){var a=Fr({},o);a.actions=a.actions.map(function(t){return t.isChose=t.id===e.id,t}),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=Fr({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find(function(e){return!0===e.isCurrent}),a=t.findIndex(function(e){return e.id===r.id});return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(Sr,{questions:t,onItemClick:n}),r&&o.a.createElement(Lr,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&Jr(n.prototype,a),i&&Jr(n,i),t}();function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xr(e,t,n[t])})}return e}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var no=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$r(this,eo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Gr({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Gr({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=Gr({},this.props.submissionState),a=r.title,i=r.siteTitle,u=r.user,s=r.submission;return u&&s?"in_progress"!==s.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Vn,{title:a,subtitle:i,username:u.name}),o.a.createElement("div",{className:"Questionnaire"},o.a.createElement("h1",null,"The questionnaire is not in progress...")),o.a.createElement(gt,null)):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Vn,{title:a,subtitle:i,username:u.name}),o.a.createElement(Vr,{questions:s.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(gt,null)):null}}])&&Zr(n.prototype,a),i&&Zr(n,i),t}(),ro=Object(c.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Qn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Un(regeneratorRuntime.mark(function e(t,r){var o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=I.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Se.getCSRFToken();case 7:return i=e.sent,u=n.id,s=mn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,cn.updateSubmissionData({submissionID:a,questionID:u,csrfToken:i,answerData:s});case 13:t(qn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((u=a.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=15,Mn(r(),[i,u]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(no),oo=n(74),ao=n.n(oo),io=n(50),uo=n.n(io);function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fo(this,po(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){co(e,t,n[t])})}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return o.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return o.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"===e.type&&(t=Ir()(t).format("DD-MM-YYYY")),"textarea"===e.type&&(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))})):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=I.a.head(e.actions.filter(function(e){return e.isChose}));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&lo(n.prototype,a),i&&lo(n,i),t}();function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,go(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vo(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.handleSubmitButtonClick,a=e.handlePDFDownloadButtonClick,i=e.handleEditAnswerButtonClick;if(!t)return null;var u=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(Vt,{title:"EDIT ANSWERS",iconImage:ao.a,classes:["button"],onClick:i}),o.a.createElement(Vt,{title:"DOWNLOAD PDF",iconImage:uo.a,classes:["button"],onClick:a}),o.a.createElement(_r,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:mn.existsUnansweredQuestion(t.questions),onClick:r})),c=o.a.createElement("div",{className:"buttons"},o.a.createElement(Vt,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return C.redirectToQuestionnaireSummary(t.submissionUUID)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&u,o.a.createElement(bo,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&c)}}])&&ho(n.prototype,a),i&&ho(n,i),t}(),Eo=n(157),ko=n.n(Eo),To=n(360),jo=n.n(To);function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Ao(t.prototype,n),r&&Ao(t,r),e}(),Po=n(361),Io=n.n(Po),No=n(362),Co=n.n(No);function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xo(e,t,n[t])})}return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Qo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Uo(a,r,o,i,u,"next",e)}function u(e){Uo(a,r,o,i,u,"throw",e)}i(void 0)})}}function qo(e){return Mo.apply(this,arguments)}function Mo(){return(Mo=Qo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Lo(e){return Bo.apply(this,arguments)}function Bo(){return(Bo=Qo(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,qo(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Fo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=Qo(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,f,p,m,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Do({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteTitle,u=n.result,c=[],l={questionnaireTitle:{bold:!0,fontSize:(s=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:s},p={title:"".concat(a," - ").concat(o.name,".pdf")},m=jo.a.pdfMake.vfs,ko.a.vfs=m,e.next=10,Lo(Io.a);case 10:return b=e.sent,c.push({image:b,width:500,margin:[0,0,0,s]}),c.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),c.push({text:i,style:"siteTitle",margin:[0,0,0,2*s]}),c.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),c.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),c.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),u&&(c.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),c.push({text:"".concat(u),margin:[0,0,0,2*s]})),c.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach(function(e,t){if(c.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Ir()(t).format("DD-MM-YYYY")),"textarea"===e.type&&(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=JSON.stringify(o)}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var o=t===r.length-1;c.push({text:"".concat(e.label,": ").concat(_o.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})}):void c.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=I.a.head(e.actions.filter(function(e){return e.isChose}));c.push({text:r.label,margin:[0,0,0,s]})}}else c.push({text:"(Has no answer)",margin:[0,0,0,s]});else c.push({text:"(Not applicable)",margin:[0,0,0,s]})}),e.next=22,Lo(Co.a);case 22:return y=e.sent,c.push({image:y,width:500,margin:[0,0,0,s]}),e.prev=24,e.next=27,ko.a.createPdf({info:p,content:c,styles:l,defaultStyle:f}).download(p.title);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(24),alert("Can't download PDF, please disable AdBlock!");case 32:case"end":return e.stop()}},e,this,[[24,29]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=Qo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Ro(t.prototype,n),r&&Ro(t,r),e}();function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ko(e,t,n[t])})}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return!t||"object"!==Ho(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Go=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yo(this,Vo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Jo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Jo({},this.props.submissionState),t=e.title,n=e.siteTitle,r=e.user,a=e.submission,i=e.isCurrentUserApprover,u=e.isCurrentUserABusinessOwnerApprover;if(!r)return null;var s="others";do{if(r.id===a.submitter.id){s="submitter";break}if(i){s="approver";break}if(u){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(Vn,{title:t,subtitle:"Review Responses",username:r.name}),o.a.createElement(wo,{siteTitle:n,viewAs:s,submission:a,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(gt,null))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Jo({},this.props.submissionState),t=e.submission,n=e.siteTitle;t&&Fo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteTitle:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=I.a.get(this.props.submissionState,"submission.submissionUUID","");e&&C.redirectToQuestionnaireEditing(e)}}])&&Wo(n.prototype,a),i&&Wo(n,i),t}(),Xo=Object(c.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Qn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Un(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!mn.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Se.getCSRFToken();case 11:return i=e.sent,e.next=14,cn.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:u=e.sent,s=u.uuid,C.redirectToQuestionnaireSummary(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(Go);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ta(this,na(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$o(e,t,n[t])})}return e}({},this.props).riskResults;return 0===e.length?null:o.a.createElement("div",{className:"risks"},o.a.createElement("h3",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),o.a.createElement("th",null,"Weights"),o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1,style:{backgroundColor:"#"+e.colour}},o.a.createElement("td",null,e.riskName),o.a.createElement("td",null,e.weights),o.a.createElement("td",null,e.score),o.a.createElement("td",null,e.rating))})))))}}])&&ea(n.prototype,a),i&&ea(n,i),t}();function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ua(e,t,n[t])})}return e}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pa=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},ma=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ca(this,la(t).call(this,e))).state={skipBoAndCisoApproval:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=ia({},this.props),t=e.submission,n=e.viewAs,r=e.user;return t?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Submission has not been complete...")):o.a.createElement("div",{className:"Summary"},this.renderSubmitterInfo(t),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(oa,{riskResults:t.riskResults}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",{className:"request-info"},o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",pa(e.status)))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions;return 0===n.length?null:o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),n.map(function(e){var n=e.uuid,r=e.taskName,a=e.taskType,i=e.status,u=e.approver,s=r+" ("+pa(i)+")";"start"===i&&(s=r+" (Please complete me)"),"approved"!==i&&"denied"!==i||!u.name||(s=r+" ("+pa(i)+" by "+u.name+")");var c=ia({},t.props).token;return o.a.createElement("div",{key:n},o.a.createElement("button",{className:"btn btn-link",onClick:function(e){"selection"!==a?C.redirectToTaskSubmission(n,c):C.redirectToComponentSelectionSubmission(n,c)}},s))}))}},{key:"renderButtons",value:function(e){var t=this,n=ia({},this.props),r=n.user,a=n.viewAs,i=n.handleSubmitButtonClick,u=n.handlePDFDownloadButtonClick,s=n.handleApproveButtonClick,c=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),l=n.handleDenyButtonClick,f=n.handleEditButtonClick,p=o.a.createElement(Vt,{title:"DOWNLOAD PDF",iconImage:uo.a,classes:["button"],onClick:u}),m=r?o.a.createElement(Vt,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return C.redirectToQuestionnaireReview(e.submissionUUID)}}):"";if("submitter"===a){var b=o.a.createElement(Vt,{title:"EDIT ANSWERS",iconImage:ao.a,classes:["button"],onClick:f}),y=o.a.createElement(_r,{title:"SEND FOR APPROVAL",classes:["button"],disabled:mn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:i});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,p,y),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,p),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,p),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var d=o.a.createElement(Vt,{title:"Assign to Me",classes:["button"],onClick:c}),v=o.a.createElement(_r,{title:"APPROVE",classes:["button"],onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),h=o.a.createElement(Vt,{title:"DENY",classes:["button"],onClick:function(){return l(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m,p),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m,p,d),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m,p),o.a.createElement("div",null,v,h))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m,p),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=pa(t.securityArchitect);"Approved"==a&&(a=n.FirstName+" "+n.Surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.FirstName+" "+n.Surname);var i=pa(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Applicable"!==i&&(i=r.FirstName+" "+r.Surname+" - "+i);var u=pa(t.businessOwner);return"Pending"!==u&&"Not Applicable"!==u&&(u=e.businessOwnerApproverName+" - "+u),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect")," - ",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer")," - ",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner")," - ",u))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&sa(n.prototype,a),i&&sa(n,i),t}();ma.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},viewAs:"others",token:"",user:null};var ba=ma,ya=n(107),da=n.n(ya);function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sa(e,t,n[t])})}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ka=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Oa(this,wa(t).call(this))).state={showModal:!1},e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ha({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=ha({},this.props.submissionState),t=e.title,n=e.user,r=e.submission,a=e.isCurrentUserApprover,i=e.isCurrentUserABusinessOwnerApprover;if(!n||!r)return null;var u="others";do{if(n.id===r.submitter.id){u="submitter";break}if(a){u="approver";break}if(i){u="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Vn,{title:t,subtitle:"Summary",username:n.name}),o.a.createElement(ba,{submission:r,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),viewAs:u,user:n}),o.a.createElement(gt,null),o.a.createElement(da.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(_r,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Vt,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e=ha({},this.props.submissionState),t=e.submission,n=e.siteTitle;t&&Fo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteTitle:n})}},{key:"handleSubmitButtonClick",value:function(){var e=ha({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ha({},this.props.submissionState),n=t.user,r=t.submission,o=t.isCurrentUserApprover,a=t.isCurrentUserABusinessOwnerApprover;n&&r&&(o&&this.props.dispatchApproveSubmissionAction(r.submissionID,e),a&&this.props.dispatchBusinessOwnerApproveSubmissionAction(r.submissionID))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ha({},this.props.submissionState),n=t.user,r=t.submission,o=t.isCurrentUserApprover,a=t.isCurrentUserABusinessOwnerApprover;n&&r&&(o&&this.props.dispatchDenySubmissionAction(r.submissionID,e),a&&this.props.dispatchBusinessOwnerDenySubmissionAction(r.submissionID))}},{key:"handleAssignToMeButtonClick",value:function(){var e=ha({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=ha({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}}])&&ga(n.prototype,a),i&&ga(n,i),t}(),Ta=Object(c.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Qn(t))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,cn.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Qn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchBusinessOwnerApproveSubmissionAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,Dn.approveQuestionnaireSubmission({submissionID:e,csrfToken:o,secureToken:""});case 6:a=t.sent,i=a.uuid,n(Qn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchBusinessOwnerDenySubmissionAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,Dn.denyQuestionnaireSubmission({submissionID:e,csrfToken:o,secureToken:""});case 6:a=t.sent,i=a.uuid,n(Qn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Un(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Se.getCSRFToken();case 3:return a=n.sent,n.next=6,cn.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Qn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Un(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Se.getCSRFToken();case 3:return a=n.sent,n.next=6,cn.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Qn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,cn.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,C.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAssignToMeAction:function(t){e(function(e){return t=Un(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,cn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Qn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(ka);function ja(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Aa(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function _a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Aa(a,r,o,i,u,"next",e)}function u(e){Aa(a,r,o,i,u,"throw",e)}i(void 0)})}}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ia(e,t,n[t])})}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Na(e){var t=Pa({},e),n=t.uuid,r=t.secureToken;return function(){var e=_a(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return o=e.sent,a={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=7,t(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}function Ca(e){var t=Pa({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=_a(regeneratorRuntime.mark(function e(t,a){var i,u,s,c,f,p,m,b,y,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return u={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(u);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=An,e.t1=i().uuid,e.t2=[n.id],e.t3=[mn.transformFromFullQuestionToData(n)],e.next=14,Se.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),z.displayError(e.t7);case 24:if(s=mn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),c=s.currentIndex,f=s.nonApplicableIndexes,p=s.targetIndex,m=s.complete,s.terminate,b=s.result,!(f.length>0)){e.next=29;break}return y={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(y);case 29:if(!(p>c)){e.next=33;break}return d={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:p}},e.next=33,t(d);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,Ua(i(),I.a.uniq([c].concat(ja(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),z.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Da({bypassNetwork:o,secureToken:r,result:b}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function Da(){var e=Pa({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result;return function(){var e=_a(regeneratorRuntime.mark(function e(o,a){var i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return a().taskSubmissionState.taskSubmission},n){e.next=19;break}return e.prev=2,e.next=5,Se.getCSRFToken();case 5:return u=e.sent,e.next=8,An.completeTaskSubmission({uuid:i().uuid,result:r||"",secureToken:t,csrfToken:u});case 8:return s=e.sent,c=s.uuid,e.next=12,o(Na({uuid:c,secureToken:t}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),z.displayError(e.t0);case 17:e.next=21;break;case 19:return e.next=21,o({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 21:case"end":return e.stop()}},e,this,[[2,14]])}));return function(t,n){return e.apply(this,arguments)}}()}function xa(e){var t=Pa({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=_a(regeneratorRuntime.mark(function e(t,a){var i,u,s,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(u=i.questions,!((s=u.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((c=u.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:c}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,Ua(i,I.a.uniq([s,c]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function Ra(){var e=Pa({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork;return function(){var e=_a(regeneratorRuntime.mark(function e(r,o){var a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=25;break}return e.prev=4,e.t0=An,e.t1=a.uuid,e.next=9,Se.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return i=e.sent,u=i.uuid,e.next=18,r(Na({uuid:u,secureToken:t}));case 18:e.next=23;break;case 20:e.prev=20,e.t5=e.catch(4),z.displayError(e.t5);case 23:e.next=26;break;case 25:r({type:l.TASK.EDIT_TASK_SUBMISSION});case 26:case"end":return e.stop()}},e,this,[[4,20]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ua(e,t,n){return Qa.apply(this,arguments)}function Qa(){return(Qa=_a(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=An,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return mn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Se.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),z.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){La(e,t,n[t])})}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e,t){return!t||"object"!==qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ka=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fa(this,Ha(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=Ma({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,u=t.handleDenyButtonClick,s=t.editAnswers,c=t.showBackButton,l=t.showEditButton,f=t.canUpdateAnswers,p=t.viewAs,m=o.a.createElement(bo,{questions:n.questions});f&&(m=o.a.createElement(Vr,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a}));var b=c?o.a.createElement(_r,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){C.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID)}}):null,y=l?o.a.createElement(Vt,{title:"EDIT ANSWERS",onClick:s,iconImage:ao.a}):null,d=o.a.createElement(Vt,{title:"DOWNLOAD PDF",iconImage:uo.a,onClick:function(){return e.downloadPdf()}}),v=["complete","waiting_for_approval","approved","denied"],h=n.result&&v.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,S=n.riskResults&&v.indexOf(n.status)>-1?o.a.createElement(oa,{riskResults:n.riskResults}):null,g="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(_r,{title:"APPROVE",onClick:i,classes:["button"]}):null,O="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Vt,{title:"DENY",onClick:u,classes:["button"]}):null;return o.a.createElement("div",{className:"TaskSubmission"},h,m,S,o.a.createElement("div",{className:"buttons"},y,d,b,o.a.createElement("div",null,g,O)))}},{key:"downloadPdf",value:function(){var e=Ma({},this.props),t=e.taskSubmission,n=e.siteTitle,r=e.currentUser;t&&Fo.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:r,questionnaireTitle:t.taskName,siteTitle:n,result:t.result})}}])&&Ba(n.prototype,a),i&&Ba(n,i),t}();function Wa(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Va=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}"});case 3:if(t=e.sent,n=I.a.get(t,"data.readCurrentMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=nn.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Wa(a,r,o,i,u,"next",e)}function u(e){Wa(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Ya(t.prototype,n),r&&Ya(t,r),e}();function za(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ga(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Va.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),z.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){za(a,r,o,i,u,"next",e)}function u(e){za(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function Xa(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n  }\n}"});case 3:return t=e.sent,n=I.a.toString(I.a.get(t,"data.readSiteConfig.0.Title","")),e.abrupt("return",{siteTitle:n});case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Xa(a,r,o,i,u,"next",e)}function u(e){Xa(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Za(t.prototype,n),r&&Za(t,r),e}();function ei(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ti(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$a.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.SET_SITE_TITLE,payload:n.siteTitle},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),z.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ei(a,r,o,i,u,"next",e)}function u(e){ei(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oi(e,t,n[t])})}return e}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ci=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ii(this,ui(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ri({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t)}},{key:"render",value:function(){var e=ri({},this.props),t=e.siteTitle,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction;e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction;if(!n||!r)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var c=parseInt(n.id)===parseInt(r.submitter.id),l=("in_progress"===r.status||"start"===r.status)&&(n.isSA||c),f=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||c&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Vn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement(Ka,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:f,canUpdateAnswers:l,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:s,siteTitle:t}),o.a.createElement(gt,null))}},{key:"handleApproveButtonClick",value:function(){var e=ri({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=ri({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}}])&&ai(n.prototype,a),i&&ai(n,i),t}(),li=Object(c.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(t){e(Ga()),e(ti()),e(Na({uuid:t}))},dispatchSaveAnsweredQuestionAction:function(t){e(Ca({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(xa({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Ra())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=_a(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,An.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Na({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),z.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=_a(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se.getCSRFToken();case 3:return o=t.sent,t.next=6,An.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Na({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),z.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(ci);function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){return!t||"object"!==fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vi(e,t,n[t])})}return e}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mi(this,bi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,di({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=di({},this.props),t=e.siteTitle,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction;if(!n||!r)return null;var s="in_progress"===r.status,c="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Vn,{title:r.taskName,subtitle:t,username:n.name}),o.a.createElement(Ka,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:c,canUpdateAnswers:s,showBackButton:!1,siteTitle:t,currentUser:n}),o.a.createElement(gt,null))}}])&&pi(n.prototype,a),i&&pi(n,i),t}(),Si=Object(c.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=di({},t).taskId;e(Ga()),e(ti()),e(function(e){var t,n=Pa({},e).taskId;return t=_a(regeneratorRuntime.mark(function e(t,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An.fetchStandaloneTask({taskId:n});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),z.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Ca({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(xa({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Ra({bypassNetwork:!0}))}}})(hi);function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return!t||"object"!==gi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ei(this,ki(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oi(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.children;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},t),n&&o.a.createElement("div",{className:"children"},n))}}])&&wi(n.prototype,a),i&&wi(n,i),t}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pi(e,t,n[t])})}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ni(this,Ci(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=_i({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(),o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},t))}},{key:"renderIcon",value:function(){switch(_i({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Ie.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Ii(n.prototype,a),i&&Ii(n,i),t}();function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qi(this,Mi(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ui(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent;return o.a.createElement("div",{className:"ComponentInfo",key:t},o.a.createElement("h3",null,o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"})),o.a.createElement("span",null,n)),o.a.createElement("p",null,r))}}])&&Qi(n.prototype,r),a&&Qi(n,a),t}();function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExists",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}}],(n=null)&&Fi(t.prototype,n),r&&Fi(t,r),e}();function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wi(e,t,n[t])})}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Vi(this,zi(t).call(this,e))).state={filter:"",jiraKey:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gi(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=Ki({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,u=t.addComponent,s=t.finishWithSelection,c=t.extraButtons,l=Ki({},this.state),f=l.filter,p=l.jiraKey;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(ji,{title:"Available Components".toUpperCase()},o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=E()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},n.filter(function(e){return!f||e.name.includes(f)}).map(function(e){var t=Hi.isComponentExists(e.id,r);return o.a.createElement(xi,{title:e.name,iconType:t?"success":"pending",disabled:!1,key:e.id,onItemClick:function(){t?i(e.id):u(e.id)}})}))),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},r.map(function(e){return o.a.createElement(Bi,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id)}})})),o.a.createElement("div",{className:"buttons"},r.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",placeholder:"JIRA Project Key",onChange:function(t){var n=E()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(_r,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(p)}})),o.a.createElement(Vt,{title:"FINISH WITHOUT SELECTION",classes:["mr-3"],onClick:function(){s()}})))),o.a.createElement("div",{className:"extra-wrapper"},c))}}])&&Yi(n.prototype,a),i&&Yi(n,i),t}(),Zi=n(363),$i=n.n(Zi);function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tu(e,t,n[t])})}return e}function tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nu(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ru(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){nu(a,r,o,i,u,"next",e)}function u(e){nu(a,r,o,i,u,"throw",e)}i(void 0)})}}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var au=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=ru(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return{id:E()(O()(e,"ID","")),name:E()(O()(e,"Name","")),description:E()(O()(e,"Description",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=ru(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=eu({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),u="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,Q.request({query:u,csrfToken:a});case 5:if(s=e.sent,c=O()(s,"data",null)){e.next=9;break}throw q;case 9:return l=$i()(o.map(function(e){var t="createJiraTicket".concat(e),n=O()(c,t,null);return n?{id:E()(O()(n,"ID","")),jiraKey:E()(O()(n,"JiraKey","")),link:E()(O()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&ou(t.prototype,n),r&&ou(t,r),e}();function iu(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function uu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){iu(a,r,o,i,u,"next",e)}function u(e){iu(a,r,o,i,u,"throw",e)}i(void 0)})}}function su(){return function(){var e=uu(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,au.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function cu(e){return function(){var t=uu(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function lu(e){return function(){var t=uu(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function fu(e){return function(){var t=uu(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function pu(e){return function(){var t=uu(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function du(e,t){return!t||"object"!==mu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hu(e,t){return(hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),du(this,vu(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.children;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.id},e.name)}))),o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),r&&o.a.createElement("div",{className:"children"},r))}}])&&yu(n.prototype,r),a&&yu(n,a),t}();function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wu(e,t,n[t])})}return e}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ku(e,t){return!t||"object"!==gu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ju(e,t){return(ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Au=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ku(this,Tu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Ou({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ou({},this.props),t=e.siteTitle,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,s=e.dispatchCreateJIRATicketsAction,c=e.viewMode,l=e.jiraTickets;if(!n)return null;var f=null;switch(c){case"edit":f=o.a.createElement(Xi,{availableComponents:r,selectedComponents:a,createJIRATickets:function(e){s(e)},removeComponent:function(e){u(e)},addComponent:function(e){i(e)},finishWithSelection:function(){C.redirectToHome()}});break;case"review":f=o.a.createElement(Su,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(_r,{title:"BACK TO HOME",onClick:function(){C.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Vn,{title:"Component Selection",subtitle:t}),f,o.a.createElement(gt,null))}}])&&Eu(n.prototype,a),i&&Eu(n,i),t}(),_u=Object(c.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(Ga()),e(ti()),e(su())},dispatchAddComponentAction:function(t){e(cu(t))},dispatchRemoveComponentAction:function(t){e(lu(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=uu(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Se.getCSRFToken();case 9:return i=t.sent,t.next=12,au.createJiraTickets({jiraKey:e,componentIDList:yn()(a.map(function(e){return e.id})),csrfToken:i});case 12:return u=t.sent,t.next=15,n(pu(u));case 15:return t.next=17,n(fu("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),z.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Au);function Pu(e){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nu(e,t){return!t||"object"!==Pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){return(Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ru(e,t,n[t])})}return e}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nu(this,Cu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,xu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=xu({},this.props),t=e.siteTitle,n=e.currentUser,r=e.taskSubmission,a=e.availableComponents,i=e.selectedComponents,u=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,l=e.dispatchFinishAction;if(!n||!r)return null;var f=null;switch(r.status){case"start":case"in_progress":f=o.a.createElement(Xi,{availableComponents:a,selectedComponents:i,extraButtons:[o.a.createElement(_r,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){C.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID)}})],createJIRATickets:function(e){c(e)},removeComponent:function(e){s(e)},addComponent:function(e){u(e)},finishWithSelection:function(){l()}});break;case"complete":f=o.a.createElement(Su,{selectedComponents:r.selectedComponents,jiraTickets:r.jiraTickets},o.a.createElement("div",{className:"buttons"},o.a.createElement(_r,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){C.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID)}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Vn,{title:"Component Selection",subtitle:t}),f,o.a.createElement(gt,null))}}])&&Iu(n.prototype,a),i&&Iu(n,i),t}(),Qu=Object(c.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=xu({},t).uuid;e(Ga()),e(ti()),e(su()),e(Na({uuid:n}))},dispatchAddComponentAction:function(t){e(cu(t))},dispatchRemoveComponentAction:function(t){e(lu(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=_a(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return i=o.componentSelectionState.selectedComponents.map(function(e){return e.id}),t.prev=5,t.t0=An,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=12,Se.getCSRFToken();case 12:return t.t4=t.sent,t.t5={jiraKey:t.t1,componentIDs:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=16,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 16:return t.next=18,n(Da());case 18:t.next=23;break;case 20:t.prev=20,t.t6=t.catch(5),z.displayError(t.t6);case 23:case"end":return t.stop()}},t,this,[[5,20]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchFinishAction:function(){e(Da())}}})(Uu);function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lu(e,t,n[t])})}return e}function Lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t){return!t||"object"!==qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ju(e,t){return(Ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ku(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var Wu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fu(this,Hu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ju(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Mu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Mu({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteTitle;return t&&n&&r?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Vn,{title:"My Submission",subtitle:r,username:t.name}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="";return t="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ir()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(gt,null)):null}}])&&Bu(n.prototype,a),i&&Bu(n,i),t}(),Yu=Object(c.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ga());case 2:return t.next=4,e(function(){var e=Un(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,cn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(ti());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Ku(a,r,o,i,u,"next",e)}function u(e){Ku(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Wu);function Vu(e){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gu(e,t,n[t])})}return e}function Gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t){return!t||"object"!==Vu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t){return(es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ts(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var ns=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zu(this,$u(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&es(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,zu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=zu({},this.props),t=e.currentUser,n=e.siteTitle,r=e.awaitingApprovalList;return t&&r&&n?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Vn,{title:"Awaiting Approvals",subtitle:n,username:t.name}),rs(r,t),o.a.createElement(gt,null)):null}}])&&Xu(n.prototype,a),i&&Xu(n,i),t}(),rs=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ir()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,function(e,t,n){return"waiting_for_security_architect_approval"===e&&n.id==t?"Assigned to me":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(e.status,e.SecurityArchitectApproverID,t)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))},os=Object(c.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ga());case 2:return t.next=4,e(function(){var e=Un(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,cn.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(ti());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){ts(a,r,o,i,u,"next",e)}function u(e){ts(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(ns);function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){us(e,t,n[t])})}return e}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cs(e,t){return!t||"object"!==as(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fs(e,t){return(fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ps(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var ms=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cs(this,ls(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,is({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=is({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteTitle;return t&&n&&r?o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Vn,{title:"My Products",subtitle:r,username:t.name}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ir()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(gt,null)):null}}])&&ss(n.prototype,a),i&&ss(n,i),t}(),bs=Object(c.b)(function(e){return{currentUser:e.currentUserState.user,siteTitle:e.siteConfigState.siteTitle,myProductList:e.questionnaireSubmissionListState.myProductList}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ga());case 2:return t.next=4,e(function(){var e=Un(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,cn.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 5:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST,payload:o});case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(ti());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){ps(a,r,o,i,u,"next",e)}function u(e){ps(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(ms);function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ss(e,t){return(Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vs(this,hs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{exact:!0,path:"/"},function(){return o.a.createElement(Pt,null)}),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(rr,{questionnaireID:t.params.id}))}),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ro,{submissionHash:t.params.hash}))}),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Xo,{submissionHash:t.params.hash}))}),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ta,{submissionHash:t.params.hash}))}),o.a.createElement(s.a,{path:"/task/submission/:uuid"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(li,{uuid:t.params.uuid}))}),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Si,{taskId:t.params.taskId}))}),o.a.createElement(s.a,{path:"/component-selection/standalone"},o.a.createElement("div",{className:"gray-bg"},o.a.createElement(_u,null))),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Qu,{uuid:t.params.uuid}))}),o.a.createElement(s.a,{path:"/MySubmissions"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Yu,null))}),o.a.createElement(s.a,{path:"/AwaitingApprovals"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(os,null))}),o.a.createElement(s.a,{path:"/MyProducts"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(bs,null))}))))}}])&&ds(n.prototype,a),i&&ds(n,i),t}(),Os=n(653);function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ks(e,t,n[t])})}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function js(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ts(a,r,o,i,u,"next",e)}function u(e){Ts(a,r,o,i,u,"throw",e)}i(void 0)})}}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t){return!t||"object"!==ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ns=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_s(this,Ps(t).call(this,e))).state={siteTitle:"",submission:null},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=js(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Es({},this.state),n=t.submission,r=t.siteTitle,a=Es({},this.props).token,i="",u=null;if(n){var s="approved"===n.approvalStatus.securityArchitect&&"pending"===n.approvalStatus.businessOwner?"businessOwnerApprover":"others";i=n.questionnaireTitle,u=o.a.createElement(ba,{submission:n,handlePDFDownloadButtonClick:function(){e.downloadPDF(n,r)},handleApproveButtonClick:function(){e.approve(n)},handleDenyButtonClick:function(){e.deny(n)},viewAs:s,token:a})}return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Vn,{title:i,subtitle:"Summary",showLogoutButton:!1}),u,o.a.createElement(gt,null))}},{key:"downloadPDF",value:function(){var e=js(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteTitle:n});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=js(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dn,e.t1=t.submissionID,e.next=4,Se.getCSRFToken();case 4:return e.t2=e.sent,e.t3=this.props.token,e.t4={submissionID:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=9,e.t0.approveQuestionnaireSubmission.call(e.t0,e.t4);case 9:return e.next=11,this.loadData();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deny",value:function(){var e=js(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dn,e.t1=t.submissionID,e.next=4,Se.getCSRFToken();case 4:return e.t2=e.sent,e.t3=this.props.token,e.t4={submissionID:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=9,e.t0.denyQuestionnaireSubmission.call(e.t0,e.t4);case 9:return e.next=11,this.loadData();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=js(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn.fetchSubmissionData({uuid:this.props.uuid,secureToken:this.props.token,isBusinessOwnerSummaryPage:"1"});case 3:t=e.sent,this.setState({siteTitle:t.siteTitle,submission:t.submission}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()}])&&As(n.prototype,a),i&&As(n,i),t}(),Cs=n(75);function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xs(e,t,n[t])})}return e}function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rs(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmissionData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ds({},t),r=n.uuid,o=n.token,a='\nquery {\n  readSiteConfig {\n    Title\n  }\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireSubmission {\n      UUID\n      ID\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      Name\n      Description\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    RiskResultData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=I.a.get(i,"data.readTaskSubmission.0",{})){e.next=8;break}throw q;case 8:return s={siteTitle:I.a.toString(I.a.get(i,"data.readSiteConfig.0.Title","")),taskSubmission:{id:I.a.toString(I.a.get(u,"ID","")),uuid:I.a.toString(I.a.get(u,"UUID","")),taskName:I.a.toString(I.a.get(u,"TaskName","")),taskType:E()(O()(u,"TaskType","")),status:I.a.toString(I.a.get(u,"Status","")),result:I.a.toString(I.a.get(u,"Result","")),submitter:nn.parseUserFromJSON(O()(u,"Submitter")),questionnaireSubmissionUUID:I.a.toString(I.a.get(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:I.a.toString(I.a.get(u,"QuestionnaireSubmission.ID","")),lockWhenComplete:Boolean(O()(u,"LockAnswersWhenComplete",!1)),questions:F.parseQuestionsFromJSON({schemaJSON:I.a.toString(I.a.get(u,"QuestionnaireData","")),answersJSON:I.a.toString(I.a.get(u,"AnswerData",""))}),selectedComponents:Sn.parseFromJSONOArray(O()(u,"SelectedComponents",[])),jiraTickets:On.parseFromJSONArray(O()(u,"JiraTickets",[])),riskResults:I.a.has(u,"RiskResultData")?JSON.parse(I.a.get(u,"RiskResultData","")):""}},e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Rs(a,r,o,i,u,"next",e)}function u(e){Rs(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&Us(t.prototype,n),r&&Us(t,r),e}();function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ls(e,t,n[t])})}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bs(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Fs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Bs(a,r,o,i,u,"next",e)}function u(e){Bs(a,r,o,i,u,"throw",e)}i(void 0)})}}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(e,t){return!t||"object"!==qs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ks(e){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){return(Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ys=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Js(this,Ks(t).call(this,e))).state={siteTitle:"",taskSubmission:null},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Fs(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Ms({},this.state),n=t.siteTitle,r=t.taskSubmission,a=Ms({},this.props).token;if(!r)return null;var i=["complete","waiting_for_approval","approved","denied"],u=r.result&&i.indexOf(r.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,r.result)):null,s=r.riskResults&&i.indexOf(r.status)>-1?o.a.createElement(oa,{riskResults:r.riskResults}):null,c=r.questionnaireSubmissionUUID?o.a.createElement(_r,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){C.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}):null,l=o.a.createElement(Vt,{title:"DOWNLOAD PDF",iconImage:uo.a,onClick:function(){return e.downloadPdf()}});return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Vn,{title:r.taskName,subtitle:n,showLogoutButton:!1}),o.a.createElement("div",{className:"TaskSubmission"},u,o.a.createElement(bo,{questions:r.questions}),s,o.a.createElement("div",{className:"buttons"},l,c)),o.a.createElement(gt,null))}},{key:"loadData",value:function(){var e=Fs(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ms({},this.props),n=t.uuid,r=t.token,e.next=3,Qs.fetchTaskSubmissionData({uuid:n,token:r});case 3:o=e.sent,this.setState(o);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"downloadPdf",value:function(){var e=Ms({},this.state),t=e.taskSubmission,n=e.siteTitle;t&&Fo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.taskName,siteTitle:n,result:t.result})}}])&&Hs(n.prototype,a),i&&Hs(n,i),t}();function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return!t||"object"!==Vs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xs(e){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ec(e,t,n[t])})}return e}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gs(this,Xs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,$s({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=$s({},this.props),t=e.siteTitle,n=e.taskSubmission,r=e.token;return n?o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Vn,{title:"Component Selection",subtitle:t}),o.a.createElement(Su,{selectedComponents:n.selectedComponents,jiraTickets:n.jiraTickets},o.a.createElement("div",{className:"buttons"},o.a.createElement(_r,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){C.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,r)}}))),o.a.createElement(gt,null)):null}}])&&zs(n.prototype,a),i&&zs(n,i),t}(),nc=Object(c.b)(function(e){return{siteTitle:e.siteConfigState.siteTitle,taskSubmission:e.taskSubmissionState.taskSubmission}},function(e,t){return{dispatchLoadDataAction:function(){var n=$s({},t),r=n.uuid,o=n.token;e(ti()),e(Na({uuid:r,secureToken:o}))}}})(tc);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return!t||"object"!==rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ac(this,ic(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(Os.a,null,o.a.createElement(u.a,null,o.a.createElement(s.a,{path:"/questionnaire/summary/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Cs.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ns,{uuid:t.params.uuid,token:r.token||""}))}),o.a.createElement(s.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Cs.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ys,{uuid:t.params.uuid,token:r.token||""}))}),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Cs.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(nc,{uuid:t.params.uuid,token:r.token||""}))})))))}}])&&oc(n.prototype,a),i&&oc(n,i),t}(),cc=n(13),lc=(n(613),{title:"",subtitle:"",pillars:[],tasks:[]});function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pc(e,t,n[t])})}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mc={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},bc={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var yc=Object(cc.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var o=fc({},e);return I.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=fc({},t).targetIndex,u=a.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=a.questions.length)return e;var s=fc({},e);return I.a.set(s,"submission.questions.".concat(u,".isCurrent"),!1),I.a.set(s,"submission.questions.".concat(i,".isCurrent"),!0),s}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var c=e.submission;if(!c)return e;var f=fc({},e),p=t.nonApplicableIndexes;return p&&p.length>0&&p.forEach(function(e){var t=c.questions[e];t.isApplicable=!1,I.a.set(f,"submission.questions.".concat(e),t)}),f}return e}}),dc=n(76),vc=n.n(dc),hc=n(44),Sc=n.n(hc);function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oc={taskSubmission:null};function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ec={user:null};function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc={siteTitle:""};var jc=n(365),Ac=n.n(jc);function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pc(e,t,n[t])})}return e}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ic={availableComponents:[],selectedComponents:[],jiraTickets:[],viewMode:"edit"},Nc=Hi.isComponentExists;function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dc(e,t,n[t])})}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc={awaitingApprovalList:[],mySubmissionList:[],myProductList:[]};var Rc=Object(cc.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:yc,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex(function(e){return e.id===r.id});if(o<0)return e;var a=vc()(e);return Sc()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=vc()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Sc()(i,"taskSubmission.questions.".concat(e),t)}),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gc(e,t,n[t])})}return e}({},t.payload),c=s.currentIndex,f=s.targetIndex;if(f<0||f>=n.questions.length)return e;var p=vc()(e);return Sc()(p,"taskSubmission.questions.".concat(c,".isCurrent"),!1),Sc()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=vc()(e);return Sc()(m,"taskSubmission.status","complete"),t.payload&&Sc()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var b=vc()(e);return Sc()(b,"taskSubmission.status","in_progress"),Sc()(b,"taskSubmission.result",null),b}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wc(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.SET_SITE_TITLE:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kc(e,t,n[t])})}return e}({},e,{siteTitle:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ic,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return _c({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t;if(!Nc(n.payload,e.selectedComponents)&&Nc(n.payload,e.availableComponents))return _c({},e,{selectedComponents:Ac()(e.selectedComponents,e.availableComponents.filter(function(e){return e.id===n.payload}))})}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var r=t;if(Nc(r.payload,e.selectedComponents)&&Nc(r.payload,e.availableComponents))return _c({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==r.payload})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?_c({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?_c({},e,{viewMode:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST?Cc({},e,{awaitingApprovalList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST?Cc({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST?Cc({},e,{myProductList:t.payload}):e}}),Uc=n(366),Qc=[f.a];var qc=Object(cc.createStore)(Rc,Object(Uc.composeWithDevTools)(cc.applyMiddleware.apply(void 0,Qc)));function Mc(e){return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return!t||"object"!==Mc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hc(e,t){return(Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kc(e,t,n[t])})}return e}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bc(this,Fc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Jc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Jc({},this.props),t=e.siteTitle,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Vn,{title:n.taskName,subtitle:t,showLogoutButton:!1}),o.a.createElement(Ka,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status,siteTitle:t}),o.a.createElement(gt,null)):null}}])&&Lc(n.prototype,a),i&&Lc(n,i),t}(),Yc=Object(c.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle}},function(e,t){return{dispatchLoadDataAction:function(){var n=Jc({},t),r=n.uuid,o=n.secureToken;e(ti()),e(Na({uuid:r,secureToken:o}))},dispatchSaveAnsweredQuestionAction:function(n){var r=Jc({},t).secureToken;e(Ca({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Jc({},t).secureToken;e(xa({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Jc({},t).secureToken;e(Ra({secureToken:n}))}}})(Wc);function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return!t||"object"!==Vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gc(this,Xc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Cs.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Yc,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&zc(n.prototype,a),i&&zc(n,i),t}();window.addEventListener("load",function(){da.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(Os.a,null,o.a.createElement(c.a,{store:qc},o.a.createElement(gs,null))),e);var t=document.getElementById("business-owner-app");t&&i.a.render(o.a.createElement(Os.a,null,o.a.createElement(c.a,{store:qc},o.a.createElement(sc,null))),t);var n=document.getElementById("vendor-app");n&&i.a.render(o.a.createElement(Os.a,null,o.a.createElement(c.a,{store:qc},o.a.createElement($c,null))),n)})},72:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},74:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},82:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"}});
//# sourceMappingURL=main.bundle.js.map